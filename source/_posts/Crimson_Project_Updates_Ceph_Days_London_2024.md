---
title: "Crimson Project Updates | Ceph Days London 2024"
date: 2024-08-23
updated: 2024-08-24
tags:
categories:
- "视频总结"
subtitle: tech
---



**会议纪要**

**会议时间**： 2023年11月（具体日期未提及）

**会议地点**： 线上会议

**参会人员**： Matan（Crimson项目负责人）、其他Crimson项目成员

**会议主题**： Crimson项目概述及最新进展

**会议内容**：

**一、Crimson项目背景**

* 随着存储技术的发展，从硬盘到NVMe，存储速度和吞吐量有了显著提升。
* 传统Ceph架构在处理高吞吐量存储设备时，存在CPU开销大的问题。
* Crimson项目旨在优化Ceph架构，提高CPU效率，更好地利用新型存储设备。

**二、Crimson项目核心思想**

* Crimson项目采用异步编程模型，避免线程切换带来的开销。
* 使用Sear框架实现异步编程，提高CPU效率。
* 采用单线程每核心架构，避免线程间的竞争和同步开销。

**三、Crimson项目架构**

* Crimson项目是Ceph OSD的完全重写，采用Sear框架实现异步编程。
* 项目包括以下组件：
    * OSD：负责IO处理，使用Sear框架进行异步编程。
    * 对象存储：负责数据存储，支持BlueStore和CStore两种后端。
    * CStore：Crimson项目自研对象存储后端，使用Sear框架实现，支持NVMe等新型存储设备。

**四、Crimson项目进展**

* 最新版本已进入技术评审阶段，支持RBD工作负载在副本池中运行。
* 支持多核CPU，提高性能。
* 支持BlueStore和CStore两种对象存储后端。
* 支持快速部署，自动识别可用CPU资源。
* 支持垃圾回收和快照功能。
* 支持RBD快照复制功能。
* 支持数据恢复和备份功能。
* 测试覆盖率持续提升，包括OSD测试、垃圾回收测试和快照测试。

**五、Crimson项目未来计划**

* 扩大测试覆盖率，包括PG拆分/合并、RBD快照复制等功能。
* 优化性能，特别是CStore后端性能。
* 支持动态分片，提高资源利用率。
* 支持异构存储配置。

**六、讨论**

* 项目成员讨论了CStore后端性能优化、测试覆盖率提升等问题。
* Matan强调了Crimson项目的技术预览性质，提醒用户谨慎使用。

**七、行动计划**

* 继续进行技术预览版本的开发和测试。
* 优化CStore后端性能。
* 扩大测试覆盖率。
* 完善文档和开发指南。

**八、总结**

Crimson项目是Ceph架构的重要改进，旨在提高CPU效率，更好地利用新型存储设备。项目进展顺利，未来将继续优化性能，扩大功能覆盖范围。