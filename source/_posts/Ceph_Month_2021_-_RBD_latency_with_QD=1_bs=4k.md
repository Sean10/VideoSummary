---
title: "Ceph Month 2021: RBD latency with QD=1 bs=4k"
date: 2021-06-15
updated: 2021-06-16
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

**会议主题：** RBD性能优化与低延迟配置讨论

**主讲人：** Widow

**日期：** [具体日期未提供]

**参会人员：** [具体人员未提供]

**主要议题：**
1. **RBD性能测试配置：** 讨论了使用Q Depth（队列深度）为1和块大小为4K的RBD性能测试。
2. **单线程IO延迟的重要性：** 强调了单线程IO延迟对于许多应用程序的重要性，特别是在PHP Web服务器、MariaDB数据库和Redis缓存等场景中。
3. **Ceph的性能与设计目标：** 解释了Ceph的设计目标（冗余性、可扩展性和数据安全）与低延迟之间的权衡。
4. **硬件配置与优化：** 分享了使用特定硬件配置（如Super Micro系统、Epic 16核CPU、256GB内存、Samsung PM SSDs和100 Gigabit网络）进行性能测试的经验。
5. **Ceph Crimson项目与RBD持久化缓存：** 讨论了Ceph Crimson项目和RBD持久化缓存对未来性能提升的潜在影响。

**决定事项：**
1. **性能测试基准：** 确定以Q Depth为1和4K块大小作为性能测试的起点。
2. **硬件优化策略：** 强调了CPU C-State pinning和CPU性能配置文件对降低延迟的重要性。
3. **未来性能提升方向：** 关注Ceph Crimson项目和RBD持久化缓存的发展，以期待更好的性能表现。

**后续行动计划：**
1. **持续性能测试：** 继续使用Q Depth为1和4K块大小的配置进行性能测试，并根据测试结果调整硬件和软件配置。
2. **关注Ceph Crimson项目进展：** 跟踪Ceph Crimson项目的开发进度，评估其对降低延迟的潜在影响。
3. **评估RBD持久化缓存：** 在代码更稳定后，重新评估RBD持久化缓存的性能表现。

**其他讨论点：**
- **RBD缓存的影响：** 讨论了RBD缓存对性能测试结果的影响，并指出在特定配置下RBD缓存可能不会被启用。
- **Fio引擎的更新：** 提到了Fio引擎的更新可能会影响性能测试结果，特别是在处理缓存和刷新操作方面。

**会议结束：**
- Widow总结了测试单线程IO延迟的重要性，并感谢大家的参与和提问。

**备注：**
- 会议中提到的具体硬件配置、软件版本和性能数据已记录，供后续参考和分析。
- 任何进一步的问题和讨论可以通过用户或开发者邮件列表进行。

**会议记录人：** [记录人姓名未提供]

**会议记录日期：** [记录日期未提供]