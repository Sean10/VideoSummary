---
title: "Troubleshooting a Cephadm Deployment - Michel Raabe, B1 Systems GmbH"
date: 2023-05-05
updated: 2023-05-05
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议主题：Ceph部署与故障排除

#### 会议时间：[具体日期]

#### 会议地点：[具体地点]

#### 主讲人：Michael Michelle

#### 主讲人简介：
- 职位：云解决方案架构师
- 公司：B1 Systems（德国公司，位于Ingelstadt，拥有140名员工）
- 业务范围：提供咨询、培训和支持服务，涉及多个开源产品，如Ceph和OpenStack

#### 会议内容总结：

1. **Ceph部署概述**
   - Ceph Idiom是一个自动化部署工具，相比传统手动部署有显著改进。
   - 最新版本的Ceph Idiom支持更多功能，如部署Ceph集群和NFS。
   - 讨论了容器化安装的优缺点，但本次会议主要关注如何从集群中获取日志文件和监控部署。

2. **故障排除挑战**
   - Ceph Idiom的部署过程自动化程度高，但缺乏详细的默认输出，使得故障排除变得困难。
   - 提到了一些用户在遇到无法解决的错误时，选择丢弃整个集群并重新部署的极端做法。

3. **日志和监控方法**
   - 介绍了多种从Ceph集群中收集数据的方法，包括使用Ceph工具、Ceph ADM工具和日志文件。
   - 强调了设置适当的日志级别的重要性，建议至少设置为5以获取更多详细信息。

4. **工具和技巧**
   - 推荐使用Snoopy和Audit工具来监控和记录命令执行情况，特别是在非交互式shell中。
   - 讨论了如何通过手动拉取和启动容器来验证问题，并检查日志文件。

5. **最佳实践和建议**
   - 强调了正确配置Python、容器、网络和DNS的重要性。
   - 建议避免使用Ansible与Ceph ADM冲突，坚持使用Ceph ADM以避免问题。
   - 提到了一个客户从Ceph Storage版本4升级到5的案例，强调了自动化和手动配置的平衡。

#### 决定事项：
- 确认了Ceph Idiom在自动化部署方面的优势和挑战。
- 确定了多种故障排除和监控的方法，特别是使用Snoopy和Audit工具。

#### 后续行动计划：
- 继续优化Ceph Idiom的日志输出和监控功能。
- 探索更多自动化和手动配置的平衡方法，以提高部署和故障排除的效率。

#### 会议结束语：
- 主讲人感谢大家的参与，并鼓励大家继续探索和优化Ceph部署和故障排除的方法。

#### 会议反馈：
- 与会者对Ceph Idiom的讨论表示赞赏，并期待未来更多的优化和改进。

[会议结束]