---
title: "Ceph Orchestrator Meeting 2022-08-16"
date: 2022-08-17
updated: 2022-08-17
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 主要议题
1. **RGW Multi-Site 配置支持**
   - **背景**：当前配置 RGW（RADOS Gateway）多站点需要手动执行多个步骤，使用 RGW 管理二进制文件，过程繁琐。
   - **目标**：简化配置过程，通过 Safe ADM 自动完成多站点配置。
   - **提案**：Sebastian 提出在 Safe ADM 中引入新的层级结构，通过关键字 `kind` 区分不同类型的规范（spec）。

2. **技术细节讨论**
   - **当前实现**：在 Python 通用部署中，有不同的类支持各种规范，如 `host_spec` 和 `service_spec`。
   - **提案实现**：添加一个通用的 `spec` 类，如 `rgw_spec` 或 `generic_spec`，作为所有不同规范的基类。
   - **关键字 `kind`**：用于指定规范的类型，如服务器、部署等，未来可扩展。

3. **实施策略**
   - **原子操作**：确保配置过程的原子性，成功则全部成功，失败则回滚。
   - **顺序依赖**：确保创建顺序正确，如先创建 realm，再创建 zone group，最后创建 zone。
   - **向后兼容性**：确保新实现不会破坏现有功能，特别是对于已有安装的升级。

4. **前端与后端讨论**
   - **前端**：讨论了如何更好地呈现配置信息，是否需要引入类似 Kubernetes 的 `kind` 和 `version` 概念。
   - **后端**：讨论了如何实现具体的创建命令，是否可以直接使用现有的 RGW 管理模块。

#### 决定事项
- **实施方向**：初步决定采用 Sebastian 的提案，引入 `kind` 关键字，并确保向后兼容性。
- **后续行动**：
  - 进一步研究 RGW 管理模块的功能，确定是否可以直接使用。
  - 开发后端逻辑，实现基本的创建命令。
  - 暂缓前端讨论，待后端实现后再确定最佳呈现方式。

#### 后续行动计划
- **后端开发**：开始实现后端逻辑，确保基本的创建命令能够正常工作。
- **前端讨论**：在后端实现基础上，进一步讨论和确定前端的最佳呈现方式。
- **文档更新**：更新相关文档，确保用户能够理解新的配置方式。

#### 其他议题
- **Podman 版本兼容性问题**：讨论了如何处理特定版本 Podman 的兼容性问题，提出了一些临时解决方案和未来可能的改进方向。

### 结论
会议对 RGW Multi-Site 配置支持的实现进行了深入讨论，确定了初步的实施方向和后续行动计划。同时，对 Podman 版本兼容性问题进行了讨论，提出了一些临时解决方案。