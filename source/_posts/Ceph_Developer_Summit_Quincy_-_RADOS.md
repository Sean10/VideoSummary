---
title: "Ceph Developer Summit Quincy: RADOS"
date: 2021-04-07
updated: 2021-04-07
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 主要议题
1. **Dashboard 和 RADOS 当前状态及下一步计划**
   - 由 Ernesto 和 Alfonso 主导，展示了 Dashboard 的功能和未来改进方向。
   - 讨论了 Dashboard 中特定功能的实现，如 OSD 创建和过滤器的使用。
   - 强调了收集用户反馈和建议的重要性，以提高 Dashboard 的可用性和操作性。

2. **Crash Telemetry 面板审查**
   - 讨论了收集和审查集群崩溃数据的机制。
   - 提出了将崩溃数据审查纳入日常 bug 清理流程的建议。
   - 讨论了如何改进每日邮件报告，以便更有效地处理新报告的崩溃。

3. **Immutable Content 优化**
   - 讨论了在 Ceph 中处理不可变对象的挑战，如空间放大和枚举问题。
   - 提出了将对象打包成大容量的解决方案，类似于 Facebook 的 Ambry 系统。
   - 探讨了在 RGW 层实现打包支持的可能性，并讨论了相关的技术挑战。

4. **Ceph Manager 改进**
   - 讨论了扩展 Manager 的策略，如将模块分离到不同的进程中。
   - 提出了创建一个共享池用于某些模块的建议，以提高效率。
   - 讨论了自动缩放器（Auto Scaler）的新行为和潜在的改进。

5. **避免集群日志消息通过 Paxos**
   - 讨论了通过 Paxos 存储集群日志消息的问题，特别是可能导致数据库过载的问题。
   - 提出了将日志信息重定向到 Manager 日志的解决方案，以避免 Paxos 的负担。

6. **简化文档编写**
   - 讨论了简化选项文档编写的必要性，提出了使用 YAML 文件和 Python 脚本自动生成文档的方案。
   - 探讨了如何通过标签和方案来区分不同类型的选项，以便在 Dashboard 中以不同方式展示。

7. **自动化认证密钥轮换**
   - 讨论了实现自动化密钥轮换的挑战，包括两阶段提交和在不重启守护进程的情况下更新密钥。
   - 提出了两种可能的解决方案：监视器同时持有旧密钥和新密钥，或者客户端尝试使用两个密钥。
   - 强调了需要进一步研究认证代码，以确定如何实现无缝密钥轮换。

#### 决定事项
- 将继续收集用户对 Dashboard 的反馈，并根据反馈进行改进。
- 将改进崩溃数据审查流程，并优化每日邮件报告。
- 将探索在 RGW 层实现对象打包支持的可能性。
- 将实施 Manager 模块的分离和共享池的创建。
- 将改进自动缩放器的行为，并引入配置文件机制。
- 将重定向集群日志消息到 Manager 日志，以减轻 Paxos 的负担。
- 将使用 YAML 文件和 Python 脚本自动生成选项文档。
- 将研究并实现自动化密钥轮换的解决方案。

#### 后续行动计划
- 继续收集和分析用户对 Dashboard 的反馈。
- 实施崩溃数据审查流程的改进。
- 探索并实现对象打包支持。
- 实施 Manager 模块的分离和共享池的创建。
- 改进自动缩放器并引入配置文件机制。
- 重定向集群日志消息到 Manager 日志。
- 使用 YAML 文件和 Python 脚本自动生成选项文档。
- 研究并实现自动化密钥轮换的解决方案。

#### 参会人员
- Ernesto、Alfonso、Yuri、Massimo、Nikola Dondrimo、Josh、Junior、Hry、Igor、Adam、Mark、Luk、Sebastian 等。

#### 会议结束
感谢所有参与者的积极参与和贡献，期待在未来的会议中继续讨论和改进 Ceph 项目。