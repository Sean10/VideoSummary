---
title: "Ceph Month 2021: RADOS Update"
date: 2021-06-01
updated: 2021-06-02
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议主题：Ceph Pacific 更新及 Quincy 展望

#### 会议时间：[具体时间]

#### 会议地点：[具体地点]

#### 参会人员：
- Neha Ocha（技术负责人，Raiders 团队）

#### 会议内容总结：

1. **Ceph Pacific 更新**
   - **可用性增强**：
     - Upmap 平衡器默认开启。
     - 新增健康警告，检测不同版本的守护进程并提醒用户。
     - 支持取消正在进行的数据一致性检查（scrubs）。
     - 改进恢复进度显示，提供更全面的恢复进度信息。
     - 引入分布式追踪框架，使用 Jaeger 工具在 OSD 中添加追踪点。
   - **质量提升**：
     - 改进 PG 删除性能，提升 4 倍。
     - 优化 OSD 映射修剪行为，仅保留相关版本。
     - 更新 Messenger 2.1，引入新的安全修复。
     - 改进管理器模块效率，包括进度模块的可关闭性。
     - 优化大型 C++ 结构的使用，减少冗余信息。
   - **性能优化**：
     - RocksDB 分片默认开启，减少磁盘空间需求。
     - 引入混合分配器，降低内存使用和磁盘碎片。
     - SSD 的 4K 分配单元大小，提高空间利用率。
     - 改进缓存效率，引入 mempools 概念，便于内存使用追踪。
   - **生态系统**：
     - 支持扩展集群配置，跨数据中心配置带有仲裁器的集群。

2. **Quincy 展望**
   - **可用性增强**：
     - mClock 调度器将成为默认设置，简化配置。
     - 引入自动基准测试，优化 mClock 参数。
     - 新的 PG 自动扩展器配置文件，支持缩减操作。
     - 改进平衡器算法，考虑 OSD 利用率。
     - 提供更详细的集群降级信息。
   - **质量提升**：
     - 动态调整监控器修剪速率，防止积压。
     - 进一步改进 PG 删除性能。
     - 管理器模块的自动调整统计收集频率。
     - 改进慢操作日志记录，简化日志监控代码。
   - **性能优化**：
     - 扩展 QoS 支持，包括 HDD 和背景活动优先级。
     - 移除 RocksDB 中的分配元数据，提高写入性能。
     - 简化拆分缓存，避免锁定问题。
     - 引入 omap 性能基准测试工具。
   - **生态系统**：
     - 自动生成文档，减少重复工作。
     - 集成 Redmine 追踪器，优化资产标识。

#### 后续行动计划：
- 继续优化和扩展 QoS 功能，包括客户端和池级别的优先级设置。
- 完善 Crimson 和 C-Store 的支持，包括多核支持和持久内存支持。
- 加强生态系统建设，提高文档自动化和用户反馈收集。

#### 会议结束语：
会议在讨论了 Ceph Pacific 的最新进展和 Quincy 的未来规划后结束，Neha Ocha 邀请大家提出问题并进行了简短的问答环节。会议随后转向了 Windows 相关的内容。