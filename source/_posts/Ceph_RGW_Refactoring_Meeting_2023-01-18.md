---
title: "Ceph RGW Refactoring Meeting 2023-01-18"
date: 2023-01-19
updated: 2023-01-20
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 关键细节
- **参与者**: Maui, Yehuda, Adam, Matt, Mia, 以及其他未明确提及的团队成员。
- **日期**: 未明确提及，但从讨论内容推断为近期。
- **主要议题**: 
  1. 可选yield的更新。
  2. 多站点和墓碑缓存的使用。
  3. 多站点和zipper工作的协同。
  4. 同步策略的更新。

#### 讨论的主要议题
1. **可选yield的更新**:
   - Maui报告了一个关于`create bucket`的PR，讨论了两种方法：文件逐个处理和整体处理。
   - 讨论了在服务中增加可选yield的好处，特别是对于rgw和rados的改进。
   - 决定将工作分配给其他团队成员，并计划进行性能基准测试。

2. **多站点和墓碑缓存的使用**:
   - 讨论了多站点中使用墓碑缓存来解决删除对象的时间戳问题。
   - 提出了缓存不完整的问题，特别是在多个网关的情况下。
   - 讨论了可能的解决方案，包括将缓存移至rados，以及对同步操作的序列化问题。

3. **多站点和zipper工作的协同**:
   - 讨论了将多站点工作与zipper结合的可能性，以实现存储无关的复制。
   - 提出了对现有代码的修改和潜在的时间压力问题。

4. **同步策略的更新**:
   - 讨论了同步策略的需求，包括在桶级别启用或禁用同步，以及跟踪同步状态的问题。
   - 提出了对现有同步策略的修改和潜在的复杂性问题。

#### 决定的事项
- 将可选yield的工作分配给其他团队成员，并计划进行性能基准测试。
- 对多站点的墓碑缓存问题进行进一步的研究和讨论，以寻找解决方案。
- 对同步策略的需求进行进一步的研究和讨论，以寻找解决方案。

#### 后续的行动计划
- Maui将联系calpash并帮助其加速上手相关工作。
- 对多站点的墓碑缓存问题进行进一步的研究和讨论，以寻找解决方案。
- 对同步策略的需求进行进一步的研究和讨论，以寻找解决方案。
- 对新的Centos 9和Ubuntu 22的兼容性问题进行进一步的研究和讨论，以寻找解决方案。

#### 其他事项
- 由于基础设施问题，Reef版本的冻结和发布将推迟最多三个月。
- 讨论了rgw套件在新版本Centos和Ubuntu上的兼容性问题，并计划组织相关跟踪问题。

### 结论
会议涵盖了多个技术议题，包括性能优化、缓存策略、同步策略和兼容性问题。团队决定采取一系列行动来解决这些问题，并计划进行进一步的研究和讨论。此外，由于基础设施问题，Reef版本的发布将推迟，为团队提供了额外的时间来稳定和优化相关功能。