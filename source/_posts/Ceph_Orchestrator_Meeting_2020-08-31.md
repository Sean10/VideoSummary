---
title: "Ceph Orchestrator Meeting 2020-08-31"
date: 2020-09-02
updated: 2020-09-03
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议主题：Ceph Orchestrator 周会

#### 会议时间：[具体日期]

#### 参会人员：[参会人员名单]

#### 主要议题及讨论内容：

1. **NFS 集成问题**
   - **问题概述**：目前存在两个不兼容的 NFS 管理实现，分别在 Dashboard 和 Volumes NFS 模块中。这两个实现基于相同的代码库，但已经分叉到无法并行使用的程度。
   - **主要挑战**：需要统一这两个管理代码库，并找到迁移用户从 Nautilus 到 Octopus 的方法。
   - **行动计划**：继续讨论并寻找解决方案，可能需要自动化的迁移工具。

2. **ceph.conf 生成问题**
   - **问题描述**：由 config generate minimal conf 生成的 ceph.conf 文件不完整，无法满足所有边缘案例的需求。
   - **解决方案**：提出两种解决方案，一是提供扩展 ceph.conf 的方法，二是改进生成 minimal conf 的功能。
   - **行动计划**：希望尽快合并这些解决方案，以提供更灵活的配置管理。

3. **容器中的 PID 1 问题**
   - **问题描述**：当前 Ceph 容器中的 PID 1 处理不当，导致僵尸进程和无法创建核心文件。
   - **解决方案**：建议使用 Docker 和 systemd-nspawn 的 `--init` 标志来解决这个问题。
   - **行动计划**：考虑在某些发行版中默认启用此设置，并在其他发行版中提供安装依赖包的指导。

4. **配置模板问题**
   - **问题描述**：当前的配置模板硬编码在代码中，无法灵活修改。
   - **解决方案**：建议使用配置密钥存储来覆盖这些模板，但存在用户界面复杂和数据结构暴露的问题。
   - **行动计划**：继续讨论是否有实际需求来推动这一改变。

5. **Ceph Orchestrator 模块开发**
   - **进展**：现在可以在不预先创建环境或编译 Ceph 的情况下，直接开始开发 Ceph Orchestrator 模块。
   - **行动计划**：鼓励开发者利用这一改进进行模块开发。

6. **Ceph Orchestrator 二进制文件重构**
   - **目标**：讨论如何逐步重构 Ceph Orchestrator 二进制文件，以提高代码的可维护性和模块化。
   - **行动计划**：建议从简化 bootstrap 命令开始，逐步引入类和模块化。

#### 后续行动计划：
- 继续讨论和解决 NFS 集成问题，特别是迁移用户的问题。
- 合并并实施 ceph.conf 生成问题的解决方案。
- 在支持的发行版中默认启用 `--init` 标志，并在其他发行版中提供安装依赖包的指导。
- 根据实际需求，决定是否实施配置模板的灵活修改方案。
- 逐步重构 Ceph Orchestrator 二进制文件，提高代码质量和可维护性。

#### 会议总结：
本次会议主要讨论了 Ceph Orchestrator 相关的多个技术问题和解决方案，涉及 NFS 集成、配置文件生成、容器中的 PID 1 处理、配置模板灵活性以及代码重构等方面。会议确定了后续的行动计划，并鼓励团队成员积极参与到这些改进工作中。

#### 会议结束时间：[具体时间]

---

以上是本次会议的详细纪要，涵盖了会议的关键细节、讨论的主要议题、决定的事项以及后续的行动计划。