---
title: "Ceph Crimson/SeaStore 2021-08-11"
date: 2021-08-20
updated: 2021-08-21
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 主要议题与讨论内容

1. **CI系统中的C语言编译器替换**
   - 讨论了将当前使用的GCC替换为Clang编译器，以避免Sealant构建失败的问题。
   - 决定未来将不再使用GCC，而是坚持使用Clang，假设如果构建通过Clang，也应该能通过GCC。

2. **FIO构建问题**
   - 遇到了FIO在Clang 10或Sealant 11上构建失败的问题，正在尝试解决。
   - 创建了PR来移除在头文件中使用`namespace lcd_one`的声明，因为这被数百个源文件包含。
   - 针对FIO本身的另一个问题，创建了补丁使用原子操作库来实现顺序锁。

3. **测试与调试**
   - 讨论了FIO测试在没有调试信息输出时容易失败的问题，正在尝试解决。
   - 提到了一个回归问题，可能是由最近的集成引入的，需要进一步调查。

4. **其他开发进展**
   - 讨论了关于 scrubbing 的问题，正在处理相关问题并计划添加新的PR。
   - 提到了LBA管理器的重写，已经通过了单元测试，正在进行更多的集成工作。
   - 讨论了多设备支持的进展，几乎完成，但仍在调试中。

5. **性能与冲突分析**
   - 讨论了从旧节点到LBA的冲突移动，通过图表比较了集成前后的情况。
   - 提到了在CI中集成性能测试工具的可能性，但认为目前还不是优先事项。

6. **编译问题与CI/CD**
   - 讨论了编译速度问题，通过启用CCache有所改善。
   - 提到了CI/CD系统的升级和相关问题，包括网络配置和包管理。

#### 决定事项

- 未来将不再使用GCC，而是使用Clang进行构建。
- 将继续解决FIO构建问题，并优化测试流程。
- 将继续推进多设备支持和LBA管理器的开发。

#### 后续行动计划

- 继续解决FIO构建问题，并优化测试流程。
- 完成LBA管理器的集成工作，并准备提交PR。
- 继续调试多设备支持，并准备提交PR。
- 进一步分析和优化性能测试，考虑在CI中集成相关工具。
- 解决CI/CD系统升级中的问题，并优化构建流程。

#### 其他

- 会议中还讨论了具体的编译命令和测试案例，以及如何处理Jenkins任务的取消。
- 讨论了如何处理特定的编译和集成问题，包括如何处理回归问题和具体的代码修改。

### 结束语

会议结束时，所有参与者都表示将继续推进各自的工作，并保持沟通以解决遇到的问题。感谢所有人的参与和贡献，期待下次会议的进一步更新。