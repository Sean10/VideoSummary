---
title: "Ceph RGW Refactoring Meeting 2023-04-26"
date: 2023-05-03
updated: 2023-05-04
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议主题：多站点删除竞赛问题讨论

#### 会议时间：[具体时间]

#### 参会人员：[具体人员名单]

#### 会议内容：

1. **问题描述**：
   - 讨论了多站点环境中的删除竞赛问题，具体表现为在源区域删除对象后，对象被重新创建，导致对象在删除后仍然存在。
   - 该问题已被追踪并更新，主要涉及桶完全同步时的本地Tombstone缓存不可靠问题。

2. **问题根源**：
   - 问题根源在于桶完全同步时，本地Tombstone缓存不足以防止对象被重新创建。
   - 开发者已开始进行概念验证，但目前不在会议中。

3. **解决方案讨论**：
   - 提出了两种解决方案，但都涉及到需要无限期记住所有对象的问题。
   - Yehuda建议在特定时间窗口内记住对象，以避免删除竞赛。
   - 讨论了全同步路径中缺乏跟踪信息的问题，建议在桶列表API中包含跟踪信息以解决问题。

4. **后续行动计划**：
   - 需要进一步探索解决方案，避免无限期记住所有对象。
   - 会议建议在追踪器中编写设计提案，并由相关人员跟进。
   - 相关PR需要重新测试并分享结果。

5. **其他议题**：
   - 讨论了cephalicon会议中的公平性问题，计划在当前问题解决后继续处理。
   - 讨论了数据日志修复的测试结果，发现某些RGW实例的锁未释放问题。

#### 决定事项：
- 需要编写设计提案并跟进解决方案。
- 相关PR需要重新测试并分享结果。

#### 后续行动：
- 编写设计提案并跟进解决方案。
- 重新测试相关PR并分享结果。
- 继续处理数据日志修复问题。

#### 会议结束：
感谢所有参与者的贡献，期待下次会议继续讨论。

---

以上是本次会议的纪要，涵盖了会议的关键细节、讨论的主要议题、决定的事项以及后续的行动计划。