---
title: "Ceph Performance Meeting 2022-07-28"
date: 2022-07-29
updated: 2022-07-29
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 关键细节
- **会议开始时间**: 会议在部分成员未到齐的情况下开始，预计他们稍后会加入。
- **主要议题**: 讨论了关于优化 RocksDB 设置以减少写放大和改善 Tombstone 行为的工作进展。
- **决定事项**: 决定继续探索在 RocksDB 中自动触发压缩和刷新的方法，特别是在删除操作后。
- **后续行动计划**: 需要进一步研究和测试，以确定最佳的 RocksDB 设置和删除跟踪机制。

#### 讨论的主要议题
- **RocksDB 设置优化**: 讨论了如何调整 RocksDB 设置以减少写放大，特别是在处理大量删除操作时。提出了通过跟踪每个列族的删除操作来手动触发压缩和刷新的想法。
- **Tombstone 行为**: 讨论了 Tombstone 在 RocksDB 中的影响，特别是在迭代删除周期中的性能问题。提出了通过改进 RocksDB 的内部机制来减少 Tombstone 的影响。
- **性能和资源管理**: 讨论了如何在不影响系统整体性能的情况下，有效地管理 RocksDB 的压缩和刷新操作。提出了在 RocksDB 中注册监听器以跟踪压缩和刷新事件的想法。

#### 决定的事项
- **RocksDB 优化方案**: 决定继续探索和实施在 RocksDB 中自动触发压缩和刷新的方法，特别是在删除操作后。
- **删除跟踪机制**: 决定开发一种机制来跟踪每个列族的删除操作，并在达到一定阈值后手动触发压缩和刷新。

#### 后续的行动计划
- **进一步研究和测试**: 需要进一步研究和测试，以确定最佳的 RocksDB 设置和删除跟踪机制。
- **代码实现和审查**: 开发团队将开始实现删除跟踪机制，并邀请其他团队成员进行代码审查和测试。
- **性能监控和调整**: 在实施新的 RocksDB 设置后，需要持续监控系统性能，并根据实际情况进行调整。

#### 其他讨论点
- **RocksDB 的内部机制**: 讨论了 RocksDB 的内部机制，包括压缩和刷新的触发条件，以及如何通过外部代码来控制这些操作。
- **性能和资源管理**: 讨论了如何在不影响系统整体性能的情况下，有效地管理 RocksDB 的压缩和刷新操作。

#### 结论
会议讨论了关于优化 RocksDB 设置以减少写放大和改善 Tombstone 行为的工作进展，并决定继续探索和实施在 RocksDB 中自动触发压缩和刷新的方法。后续需要进一步研究和测试，以确定最佳的 RocksDB 设置和删除跟踪机制。