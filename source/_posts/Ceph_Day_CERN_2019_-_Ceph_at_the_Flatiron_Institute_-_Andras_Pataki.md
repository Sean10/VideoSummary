---
title: "Ceph Day CERN 2019: Ceph at the Flatiron Institute - Andras Pataki"
date: 2020-08-25
updated: 2020-08-26
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议主题：Flatiron Institute的Ceph存储系统介绍与经验分享

#### 主讲人：Andres Pataki

#### 会议概要：
Andres Pataki来自Simon西班牙Flatiron研究所，介绍了Flatiron研究所的背景、Ceph存储系统的使用情况、技术细节、性能表现、硬件与软件挑战以及未来展望。

#### 关键细节：
1. **Flatiron研究所背景**：
   - Flatiron研究所是Simons基金会的一个研究部门，由Simons家族资助，该家族在对冲基金行业取得了巨大成功。
   - 研究所的使命是通过计算手段推进科学研究。
   - 研究所位于纽约市曼哈顿中城，靠近Flatiron大楼，拥有约150名科学家，涉及天体物理学、生物学、量子化学和数学等多个领域。

2. **Ceph存储系统使用情况**：
   - 研究所使用Ceph存储系统处理多种计算任务，包括基因组数据、早期宇宙的MPI模拟等。
   - 集群规模：约40,000个核心，数百个GPU，存储空间约30PB。
   - 使用Ceph的FS（文件系统）侧，主要因为传统代码不支持对象存储。

3. **技术细节与性能**：
   - Ceph的恢复机制非常高效，特别是在处理多重故障时。
   - 通过CRUSH算法，Ceph能够并行恢复数据，大大缩短了恢复时间。
   - 性能测试显示，Ceph集群在处理大量数据时表现出色，但小文件性能仍有待提升。

4. **硬件与软件挑战**：
   - 硬件方面，早期购买的NAS级硬盘存在数据 silently corrupted 的问题。
   - 网络方面，早期40G接口存在丢包问题。
   - 软件方面，从Hammer版本升级到Mimic，并计划升级到Nautilus。

5. **经验与教训**：
   - 硬件测试至关重要，早期硬件问题导致数据损坏。
   - Ceph的滚动升级策略有效，未导致系统中断。
   - 灾难恢复案例显示，Ceph的高冗余模型确保了数据安全。

6. **未来展望**：
   - 小文件性能改进是当前的主要挑战。
   - 考虑引入闪存存储，关注Ceph的Crimson项目。
   - 探索多站点支持，以便在不同地理位置之间实现统一文件系统。

#### 决定事项：
- 继续关注并测试Ceph的新版本和功能。
- 优化小文件性能，考虑引入闪存存储。
- 探索多站点支持，以实现更广泛的存储部署。

#### 后续行动计划：
- 定期进行硬件和软件测试，确保系统稳定性。
- 持续监控和优化Ceph集群的性能。
- 与Ceph开发团队保持沟通，获取早期支持和修复。

#### 结论：
Flatiron研究所通过使用Ceph存储系统，成功支持了多个科学研究项目，尽管面临硬件和软件挑战，但通过持续的优化和升级，确保了数据的安全和系统的稳定运行。未来，研究所将继续探索Ceph的新功能和优化方案，以满足不断增长的计算和存储需求。