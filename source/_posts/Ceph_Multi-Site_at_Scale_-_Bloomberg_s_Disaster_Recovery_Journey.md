---
title: "Ceph Multi-Site at Scale: Bloomberg’s Disaster Recovery Journey"
date: 2023-05-05
updated: 2023-05-05
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议主题：Bloomberg的分布式存储Ceph灾难恢复之旅

#### 会议时间：[具体时间]

#### 会议地点：[具体地点]

#### 参会人员：
- Jane Zhu，Bloomberg高级软件工程师
- Teda，Bloomberg分布式存储团队成员

#### 会议议程：
1. **介绍**：简要介绍Bloomberg及其分布式存储团队的工作。
2. **Ceph集群概览**：展示Bloomberg云存储（BCS）中的Ceph集群。
3. **多站点旅程**：深入探讨Bloomberg存储团队如何采用Ceph的多站点功能。
4. **未来计划**：讨论未来的发展方向。
5. **问答环节**：回答与会者的提问。

#### 会议内容总结：

##### 1. 介绍
- Bloomberg是一家成立于1981年的金融科技公司，提供新闻、分析和软件服务给全球超过35万订阅者。
- 每天处理超过3000亿条金融市场数据，峰值达到每秒1000万条消息。
- 分布式存储团队负责设计和维护Bloomberg的存储产品，支持文件系统、块设备和对象存储。
- BCS（Bloomberg云存储）是对象存储产品，目前由Ceph支持。

##### 2. Ceph集群概览
- BCS是一个以RGW为中心的对象存储，每天处理超过10亿次请求。
- 拥有四个集群，分布在四个数据中心，总存储容量约为65PB。
- 集群分为Legacy PCS产品和新的支持多站点功能的集群。

##### 3. 多站点旅程
- Legacy集群存在单点故障问题，缺乏跨数据中心的通信，依赖客户端进行数据复制。
- 为了解决灾难恢复问题，团队采用了Ceph的多站点功能，实现了跨数据中心的数据复制。
- 通过大量的测试，包括功能测试和性能压力测试，发现并解决了在重负载下的多站点复制问题。
- 与社区合作，通过调试和代码审查，最终修复了问题。

##### 4. 未来计划
- 计划将集群升级到最新的Ceph版本，以利用新功能和修复。
- 关注监控和复制延迟问题，希望社区能提供更好的解决方案。

#### 决定事项：
- 继续与Ceph社区合作，优化多站点功能。
- 考虑开源部分内部工具和CI/CD管道，以帮助其他组织加速测试和部署。

#### 后续行动计划：
- 升级现有集群到最新Ceph版本。
- 开发或集成更好的监控工具，以实时跟踪复制状态。
- 继续参与社区活动，推动Ceph的发展和改进。

#### 问答环节：
- 讨论了多站点配置的具体细节，包括使用一个领域和两个区域的模式。
- 确认了在测试环境中使用的硬件配置接近生产环境。
- 解释了在主动-主动模式下处理数据差异的策略，当前通过代理路由所有请求到一个数据中心。

#### 会议结束语：
- Jane Zhu和Teda感谢社区的支持，并邀请有兴趣的人才加入Bloomberg。
- 会议在掌声中结束，参会者期待未来与Bloomberg和Ceph社区的进一步合作。

---

**注：** 本会议纪要保留了部分计算机科学/Ceph相关领域英文原文的关键词，以确保专业性和准确性。