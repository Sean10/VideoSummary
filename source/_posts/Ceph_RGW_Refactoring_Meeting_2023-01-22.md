---
title: "Ceph RGW Refactoring Meeting 2023-01-22"
date: 2023-02-23
updated: 2023-02-24
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 1. **GSAC Coverity 分析项目讨论**
- **议题**: 讨论GSAC项目中关于Coverity静态代码分析工具的使用和改进。
- **主要讨论点**:
  - Coverity由Synopsys公司拥有，提供免费的扫描工具和Web UI，用于管理开源项目中的问题。
  - 存在问题：无法控制扫描时间和版本，反馈循环存在问题。
  - Sepia实验室的Caleb创建了一个设置，每天运行Clarity工具并将结果发布到静态网页。
  - 提出了使用代码注释来忽略问题，以更好地控制和管理假阳性问题。
  - 讨论了是否继续使用Web UI或转向静态网页选项，并结合代码注释。
- **决定事项**:
  - 同意继续使用Coverity工具，尽管存在大量假阳性，但工具仍有助于发现真实问题。
  - 考虑使用代码注释来管理假阳性问题。
- **后续行动计划**:
  - 学生将负责清理和修复Coverity中发现的问题，并使用代码注释标记假阳性。
  - 完成后，评估是否需要建立自动化系统来处理Coverity报告。

#### 2. **RGW对象清单(Manifest)隐私性讨论**
- **议题**: 讨论RGW对象清单是否应私有化。
- **主要讨论点**:
  - 对象清单曾包含在API中，现已移除，但仍有少量使用案例。
  - 讨论了是否应将对象清单完全隐藏在RADOS后端，以及如何处理加密和解密过滤器。
- **决定事项**:
  - 同意将对象清单类型隐藏在RADOS存储后端，使RGW应用无法解码。
- **后续行动计划**:
  - 继续讨论和实施具体的隐私化措施。

#### 3. **多站点同步状态可视化**
- **议题**: 讨论如何将多站点同步状态信息导出并可视化在Prometheus中。
- **主要讨论点**:
  - 需要明确要发送给Prometheus的具体信息。
  - 讨论了现有同步计数器与客户需求之间的差距。
- **决定事项**:
  - 确认这是一个复杂问题，需要进一步研究和讨论。
- **后续行动计划**:
  - 详细阅读相关跟踪问题，并考虑如何改进同步状态的可视化。

#### 4. **可加载模块的变更讨论**
- **议题**: 讨论对可加载模块进行大规模变更的可行性。
- **主要讨论点**:
  - 变更涉及将驱动程序改为唯一指针，这将影响多处代码。
- **决定事项**:
  - 同意这是一个大变更，需要谨慎处理。
- **后续行动计划**:
  - 将此变更作为独立任务处理，确保不影响其他开发工作。

#### 5. **其他事项**
- **议题**: 讨论了其他可能的改进和问题。
- **决定事项**:
  - 确认需要进一步讨论和研究。
- **后续行动计划**:
  - 继续在开发列表中讨论和跟进。

### 结论
会议涵盖了多个关键议题，包括Coverity工具的使用改进、RGW对象清单的隐私性、多站点同步状态的可视化以及可加载模块的变更。决定继续使用Coverity工具并改进其管理方式，同意将对象清单隐藏在RADOS后端，确认多站点同步状态可视化是一个复杂问题，并同意对可加载模块进行大规模变更需谨慎处理。后续行动计划包括学生负责清理Coverity问题，详细研究同步状态可视化，以及独立处理模块变更。