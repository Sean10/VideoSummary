---
title: "2020-01-16 :: Ceph Performance Meeting"
date: 2020-01-23
updated: 2020-01-24
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议时间
- 日期：具体日期未提供
- 时长：约1小时

#### 参会人员
- 主要参与者：Josh, Stage, Alex, 以及其他未提及的核心成员

#### 主要议题
1. **Ceph Balancer相关PR讨论**
   - 并行crush计算的PR需要审查。
   - 另一个关于upmap模式使用MS基础设施的balancer PR已经关闭。
   - 性能改进相关的balancer PR，特别是与manager相关的性能问题。

2. **硬件推荐文档更新**
   - 当前文档质量不佳，需要更新。
   - 透明大页（transparent huge pages）的设置需要根据版本进行调整。

3. **PG（Placement Group）相关讨论**
   - 默认的PG数量需要调整，建议增加到11。
   - PG log长度的调整和PG数量的关系需要进一步测试。

4. **Autoscaler测试结果**
   - Alex分享了在OpenShift中使用Steph的测试结果，发现数据分布不均的问题。
   - 通过调整目标比率和启用PG balancer，数据分布得到了改善。

#### 决定事项
1. **不缩减PG数量，除非有压力**
   - 避免过早缩减PG数量，以保持数据分布的均匀性。

2. **自动选择PG log长度**
   - 根据PG数量自动选择PG log长度，以优化内存使用。

3. **增加默认PG数量**
   - 增加默认的PG数量，以改善初始数据分布和性能。

#### 后续行动计划
1. **审查并行crush计算的PR**
   - 确保相关PR得到及时审查和合并。

2. **更新硬件推荐文档**
   - 根据最新版本和最佳实践更新文档。

3. **进一步测试PG相关设置**
   - 继续测试PG数量和PG log长度的最佳配置，以优化性能和数据分布。

4. **跟踪Autoscaler的进一步优化**
   - 根据测试结果和用户反馈，进一步优化Autoscaler的性能和功能。

#### 其他讨论
- 讨论了PG balancer的性能影响和潜在的改进方向。
- 讨论了PG数量对恢复速度的影响，以及如何平衡性能和数据安全性。

#### 下次会议
- 预计下周同一时间再次召开会议，讨论进一步的进展和问题。

#### 会议结束
- 会议在约1小时后结束，参与者表示感谢并期待下次会议。