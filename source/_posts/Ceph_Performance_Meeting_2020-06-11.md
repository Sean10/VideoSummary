---
title: "Ceph Performance Meeting 2020-06-11"
date: 2020-06-11
updated: 2020-06-12
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议概览
本次会议主要讨论了Ceph项目的进展情况，包括新的Pull Request（PR）、已关闭的PR、更新的PR以及一些重要的技术讨论。会议还涉及了即将到来的开发冻结前的准备工作。

#### 主要议题
1. **新PR介绍**
   - 新增了一个PR，旨在为Blue Store添加阻塞跟踪（blocking traces）。目前尚未有人审查此PR，建议相关开发人员关注。

2. **已关闭PR**
   - 一个旧的PR因长时间未更新被stale bot关闭，该PR涉及ARM架构的新测试。

3. **更新PR**
   - 多个PR被更新，包括：
     - Adam的PR，旨在防止RocksDB中的巨大写日志大小，涉及大量关于写日志大小、缓冲区设置和写入限制的讨论。
     - Ma Jinping的PR，关于启用RocksDB的流水线写入功能，尽管测试未见性能提升，但仍被认为是一个有价值的改进。
     - 一个关于改进mempool跟踪的PR，将随机数据结构分解为更具体的部分，如packin extents、blobs等，被认为是很有前景的改进。
     - 一个关于基准测试buffer list encode和decode的PR，讨论了是否应将此类测试移至外部。

4. **重要技术讨论**
   - 讨论了Igor的PR，旨在修复一个罕见的段错误（seg fault），涉及boost库中的复杂数据结构操作。
   - 讨论了避免双重缓存的PR，需要进行显著的重构，目标是6月底前完成。
   - 讨论了mempool的使用和内存管理，特别是关于重新分配内存到mempool的问题。
   - 讨论了优先级缓存管理器（PCM）的改进，希望通过更详细的内存使用统计来优化缓存管理。

5. **其他事项**
   - 继续进行IO500测试，特别是关于预分割和预导出目录碎片的优化工作。

#### 决定事项
- 需要对新PR进行审查和测试，特别是关于Blue Store的阻塞跟踪和RocksDB的流水线写入功能。
- 需要进一步讨论和优化mempool的使用和内存管理。
- 需要继续推进避免双重缓存的PR，并确保在开发冻结前完成。

#### 后续行动计划
- 审查和测试新PR，确保其有效性和性能影响。
- 继续优化IO500测试，特别是预分割和预导出目录碎片的性能。
- 在开发冻结前完成重要PR的合并和优化工作。

#### 会议结束
会议在讨论了所有议题后结束，感谢所有参与者的贡献，并祝愿大家有一个愉快的周末。下次会议再见。

---

以上是本次会议的详细纪要，涵盖了会议的关键细节、讨论的主要议题、决定的事项以及后续的行动计划。