---
title: "CDS G/H (Day 2) - RBD: testing overview & strategy"
date: 2014-06-26
updated: 2014-06-26
tags:
categories:
- "视频总结"
subtitle: tech
---



**会议纪要**

**会议主题**： RBD 测试概述及策略

**会议时间**： [请填写会议时间]

**参会人员**： [请填写参会人员名单]

**会议内容**：

**一、会议背景**

本次会议主要针对 Ceph RBD（RADOS 块设备）的测试策略进行讨论，旨在提高 RBD 的稳定性和可靠性。会议内容涵盖了测试框架的统一、测试用例的扩展、新特性的测试等方面。

**二、主要议题**

1. **测试框架的统一**：
    - 目前 RBD 的用户空间和内核空间测试使用不同的框架，存在重复测试和测试不全面的问题。
    - 建议使用统一的测试框架，例如借鉴 FSX（文件系统测试工具）的设计，实现内核空间和用户空间测试的统一。

2. **测试用例的扩展**：
    - 针对克隆、快照、条带化等特性，需要补充相应的测试用例，确保功能的正确性和稳定性。
    - 针对快照和克隆的特性，需要关注重叠、一致性等问题，并进行针对性的测试。
    - 针对镜像和条带化特性，需要关注性能和兼容性问题，并进行相应的测试。

3. **新特性的测试**：
    - 针对位图、镜像复制、日志记录、镜像镜像等新特性，需要制定相应的测试策略，确保功能的正确性和稳定性。
    - 针对镜像复制功能，需要测试故障转移和日志回放的正确性。
    - 针对日志记录功能，可以开发工具模拟客户端重启，验证日志回放的正确性。

4. **测试工具的选择**：
    - XFS 测试工具在压力测试方面表现良好，但存在可复现性差的问题。
    - 可以考虑使用其他压力测试工具，例如 XFS 测试工具的 MPI 版本，或者在内核 RBD 上运行 FSX 测试。

**三、决定事项**

1. 统一测试框架，借鉴 FSX 的设计，实现内核空间和用户空间测试的统一。
2. 扩展测试用例，针对克隆、快照、条带化等特性补充相应的测试用例。
3. 制定新特性的测试策略，确保功能的正确性和稳定性。
4. 选择合适的测试工具，例如 XFS 测试工具的 MPI 版本或其他压力测试工具。

**四、后续行动计划**

1. 开发统一的测试框架，实现内核空间和用户空间测试的统一。
2. 补充测试用例，针对克隆、快照、条带化等特性进行测试。
3. 制定新特性的测试策略，并实施测试。
4. 选择合适的测试工具，并使用工具进行测试。

**五、备注**

1. 会议中提到的测试工具和框架，如 FSX、XFS 测试工具等，均为计算机科学/ceph 领域的关键词。
2. 会议中提到的测试策略和行动计划，将有助于提高 RBD 的稳定性和可靠性。