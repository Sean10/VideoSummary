---
title: "Ceph Days NYC: Optimizing RGW Object Storage Mixed Media through Storage Classes and Lua Scripting"
date: 2023-05-17
updated: 2023-05-18
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议参与者
- **Anthony Daughtry**：曾任职于Solidine（Intel的NAND部门，后被SK hynix收购），目前就职于Index Exchange。
- **Kurt Bruns**：未参会，负责编码部分。

#### 会议主题
- **Ceph RGW部署的特性与挑战**：讨论了Ceph RGW部署中对象大小多样性对成本和性能的影响。
- **存储介质的选择与优化**：探讨了不同存储介质（如机械硬盘、SSD、QLC SSD）的优缺点及适用场景。
- **TCO（总拥有成本）分析**：介绍了如何使用SNIA的TCO计算器来评估存储解决方案的实际成本。
- **多存储池与存储类别的配置**：讨论了如何在Ceph中配置多存储池以适应不同的工作负载和存储需求。
- **Lua脚本在Ceph RGW中的应用**：展示了如何使用Lua脚本来动态调整存储类别，优化存储管理。

#### 关键讨论点
1. **对象大小对存储设计的影响**：
   - 大对象需要高读取吞吐量，但不易缓存。
   - 小对象操作每GB的 overhead 更大，适合低延迟的快速存储。

2. **存储介质的选择**：
   - 机械硬盘（HDD）：成本效益高，但接口和寻道延迟是瓶颈。
   - SSD：性能优越，但密度和成本问题。
   - QLC SSD：成本较低，密度高，性能介于HDD和TLC SSD之间。

3. **TCO分析**：
   - 使用SNIA的TCO计算器考虑驱动器成本、数据中心运营成本、维护成本等。

4. **多存储池配置**：
   - 通过混合介质，为不同类型的数据提供不同的存储池。
   - S3协议的存储类别可用于对象存储，通过请求头指定。

5. **Lua脚本的应用**：
   - 使用Lua脚本在对象上传时动态调整存储类别，无需用户手动配置。
   - 通过Lua脚本优化存储分配，减少空间放大问题。

#### 决定事项
- 采用Lua脚本来自动化存储类别的分配，提高Ceph RGW的灵活性和效率。
- 使用SNIA的TCO计算器来更准确地评估存储解决方案的成本。

#### 后续行动计划
- 继续优化Lua脚本，确保其在不同工作负载下的稳定性和效率。
- 推广使用SNIA的TCO计算器，帮助用户做出更明智的存储投资决策。
- 探索更多存储介质的组合，以满足不同应用场景的需求。

#### 联系方式
- Anthony Daughtry：欢迎对使用Lua脚本优化Ceph RGW存储管理感兴趣的人士联系他。

#### 结束语
- 会议在感谢和掌声中结束，强调了持续优化和创新在存储管理中的重要性。