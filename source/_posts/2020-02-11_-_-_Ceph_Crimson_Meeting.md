---
title: "2020-02-11 :: Ceph Crimson Meeting"
date: 2020-04-03
updated: 2020-04-04
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议概要
本次会议主要讨论了Ceph存储系统中的一些技术问题，包括缓存机制、消息处理、性能优化以及代码实现细节。会议中，多位研发人员分享了他们在各自领域的进展和遇到的问题，并讨论了解决方案和后续行动计划。

#### 主要议题
1. **缓存机制**：
   - 讨论了OSD（Object Storage Daemon）地图处理路径中的缓存策略，特别是两级缓存的存在原因。
   - 确认了使用增量缓存列表的必要性，以便在不同OSD地图版本间高效传输数据。

2. **消息处理与路由**：
   - 探讨了在Crimson存储系统中实现消息路由的策略，特别是从一对一模型转向多对多模型的可能性。
   - 讨论了在消息处理中添加PG（Placement Group）日志条目对性能的影响，并提出了优化编码效率的建议。

3. **性能优化**：
   - 讨论了如何通过减少内存拷贝来提高本地堆栈的性能，特别是通过启用iommu和设备内存映射。
   - 分析了pending和dirty状态在事务处理中的区别及其对性能的影响。

4. **代码实现与测试**：
   - 分享了在Crimson中实现PG锁和写路径的进展，以及相关的性能测试结果。
   - 讨论了如何通过代码审查和测试来确保新功能的稳定性和性能。

#### 决定事项
- 将继续优化缓存机制，特别是在处理OSD地图和增量数据时的效率。
- 将探索从一对一消息模型转向多对多模型的可行性，并评估其对系统性能的影响。
- 将进行更多的性能测试，特别是关于内存拷贝和消息编码的优化。
- 将通过代码审查和测试来确保新功能的稳定性和性能。

#### 后续行动计划
- 继续研究和优化缓存机制，特别是在处理OSD地图和增量数据时的效率。
- 探索从一对一消息模型转向多对多模型的可行性，并评估其对系统性能的影响。
- 进行更多的性能测试，特别是关于内存拷贝和消息编码的优化。
- 通过代码审查和测试来确保新功能的稳定性和性能。
- 创建一个Google文档，用于收集和讨论研发过程中的问题和解决方案，以便团队成员共享知识和经验。

#### 其他事项
- 会议中提到了一些技术细节和代码实现问题，这些问题将在后续的研发过程中进一步探讨和解决。
- 鼓励团队成员在研发过程中保持沟通和协作，共同推动Ceph存储系统的优化和发展。

### 结束语
感谢所有参与会议的研发人员，期待大家在接下来的工作中取得更多的进展和成果。下次会议再见。