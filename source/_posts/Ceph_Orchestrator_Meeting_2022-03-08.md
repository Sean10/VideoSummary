---
title: "Ceph Orchestrator Meeting 2022-03-08"
date: 2022-03-08
updated: 2022-03-09
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议主题：Ceph版本降级支持与NFS相关问题讨论

#### 会议时间：[具体时间]

#### 参会人员：[参会人员名单]

#### 会议内容总结：

1. **版本降级支持讨论**
   - **问题背景**：讨论了Ceph版本降级支持的历史和现状，特别是minor版本降级的可行性和存在的问题。
   - **主要问题**：
     - 迁移处理问题：添加新迁移后，尝试降级到迁移未存在的版本时，迁移过程会无限循环。
     - 升级状态问题：新添加的字段在旧版本中无法正确加载，导致降级失败。
   - **讨论结果**：
     - 是否继续支持minor版本降级存在争议，建议在minor版本发布前进行测试。
     - 提出了一些临时解决方案，如调整迁移当前值以避免无限循环。
     - 建议在新的major版本中尝试支持降级，并考虑引入强制标志以明确风险。

2. **升级状态字段讨论**
   - **问题背景**：讨论了升级状态字段的持久性和内容，以及如何改进以更好地支持降级。
   - **讨论结果**：
     - 建议在升级完成后保留升级状态信息，并提供清除命令。
     - 讨论了哪些信息应该被持久化，以及如何处理升级过程中的字段重置问题。

3. **格式标志问题**
   - **问题背景**：讨论了命令行中的`--format`标志存在的问题，即无论指定何种格式，总是返回JSON。
   - **讨论结果**：
     - 提出了使用装饰器来处理格式转换，并确保支持的格式类型明确。
     - 建议进行实验性实现，并在后续会议中展示结果。

4. **NFS相关问题**
   - **问题背景**：讨论了NFS的高可用性和扩展性问题，特别是在Ceph和Rook中的实现差异。
   - **讨论结果**：
     - 讨论了NFS demon的故障转移、主机离线检测和处理策略。
     - 提出了NFS服务在主机故障时的处理挑战，特别是在节点数量有限的情况下。
     - 讨论了NFS服务的配置和管理，以及如何在不同环境中保持一致性。

#### 后续行动计划：
- **版本降级支持**：
  - 继续测试和评估minor版本降级的可行性。
  - 在新的major版本中尝试实现降级支持，并引入强制标志。
- **升级状态字段**：
  - 实现升级状态信息的持久化，并提供清除命令。
- **格式标志问题**：
  - 进行实验性实现，并在后续会议中展示结果。
- **NFS相关问题**：
  - 继续研究和测试NFS的高可用性和扩展性解决方案。
  - 确保NFS服务的配置和管理在不同环境中保持一致性。

#### 会议结束：
- 会议于[具体时间]结束，下次会议预定于[下次会议时间]。

---

以上是本次会议的详细纪要，涵盖了会议的关键细节、讨论的主要议题、决定的事项以及后续的行动计划。