---
title: "CDS Tentacle - Core RADOS"
date: 2024-08-22
updated: 2024-08-23
tags:
categories:
- "视频总结"
subtitle: tech
---



**会议主题**： Ceph 项目开发会议

**会议时间**： 2023年11月（具体日期未提及）

**会议地点**： 线上会议

**参会人员**： Laura, Ron, Ric, Bill, Mark, Laura, Adam, Greg, Sam, Patrick, Nia 等

**会议内容**：

**1. E 优化**：

* **主要议题**： 讨论E优化方案的推进，重点关注成本优化和性能限制。
* **关键细节**： 
    * Bill Scales已制作详细的设计文档，介绍了优化方案的主要思想。
    * 优化方案中，增加chunk size将非常有用，但需要考虑对已存在代码路径的影响。
    * 需要进一步讨论如何降低优化过程中引入的风险，例如通过引入开关级别或更细粒度的控制。
    * 默认EC插件切换问题，需要考虑向后兼容性。
* **后续行动计划**：
    * 继续推进E优化方案的讨论和开发。
    * 完善测试覆盖范围，以降低引入风险。
    * 确定默认EC插件切换方案。

**2. 零压缩**：

* **主要议题**： 讨论在消息缓冲列表和对象存储路径中压缩零数据，以提高性能。
* **关键细节**：
    * 优化方案将受益于增加chunk size，因此压缩零数据将非常有用。
    * 需要解决缓冲列表中零数据的压缩问题，包括编码和接口问题。
    * 可能需要新的消息类型或协议级别来支持压缩。
* **后续行动计划**：
    * 进一步讨论压缩零数据的实现方案。
    * 考虑在性能会议上进行更深入的讨论。

**3. 编码增强**：

* **主要议题**： 继续推进Squid项目的编码增强工作。
* **关键细节**：
    * Naiton在对象存储库中添加了缺失的类型，并进行了测试以确保兼容性。
    * 需要继续扩展测试范围，包括使用旧编码器验证新编码器生成的字节流。
* **后续行动计划**：
    * 继续推进编码增强工作。
    * 扩展测试范围，包括使用旧编码器验证新编码器生成的字节流。

**4. PG池**：

* **主要议题**： 讨论PG池的稳定性改进。
* **关键细节**：
    * 已有PR对PG池T方案进行了重构，以支持未来的扩展。
* **后续行动计划**：
    * 继续推进PG池的稳定性改进工作。

**5. QoS**：

* **主要议题**： 讨论QoS的改进，包括操作、回填操作、客户端API和RBD图像级别QoS。
* **关键细节**：
    * 已有PR对QoS功能进行了改进，包括改进回填操作和客户端API。
    * 需要进一步研究RBD图像级别QoS的实现方案。
* **后续行动计划**：
    * 继续推进QoS的改进工作。

**6. Scrub**：

* **主要议题**： 讨论Scrub的改进，包括拆分存储、设计Scrub队列和改进Deep Scrub调度。
* **关键细节**：
    * 将Scrub存储拆分为浅层错误和深层错误。
    * 设计Scrub队列，以简化代码并提高可理解性。
    * 改进Deep Scrub调度，以提供更好的控制。
* **后续行动计划**：
    * 继续推进Scrub的改进工作。

**7. MGR**：

* **主要议题**： 讨论MGR的改进，包括操作跟踪器、统计周期和依赖性。
* **关键细节**：
    * 已在Squid中引入了操作跟踪器，用于跟踪操作和请求。
    * 需要进一步研究提供更细粒度跟踪的需求。
    * 需要改进MGR统计周期的文档，以便在MGR不可用时获取数据。
* **后续行动计划**：
    * 继续推进MGR的改进工作。

**8. NVMe-oF网关**：

* **主要议题**： 讨论NVMe-oF网关的改进，包括可选服务选择和移除。
* **关键细节**：
    * 可以在运行时选择启用或禁用某些服务。
    * 可以将NVMe-oF网关服务从监控器中移除。
* **后续行动计划**：
    * 继续推进NVMe-oF网关的改进工作。

**9. Upmap平衡器**：

* **主要议题**： 讨论Upmap平衡器的改进，以提高可伸缩性。
* **关键细节**：
    * 可以使用多线程来提高Upmap平衡器的性能。
* **后续行动计划**：
    * 继续推进Upmap平衡器的改进工作。

**10. 监控器配置配置文件**：

* **主要议题**： 讨论监控器配置配置文件的实现。
* **关键细节**：
    * 可以实现监控器配置配置文件，以简化配置管理。
* **后续行动计划**：
    * 继续推进监控器配置配置文件的实现工作。

**11. 随机化**：

* **主要议题**： 讨论监控器随机化的问题。
* **关键细节**：
    * 监控器重新部署时可能会遇到连接问题。
    * 可以通过引入非通配符地址来解决这个问题。
* **后续行动计划**：
    * 继续推进监控器随机化的改进工作。

**12. 需要兼容的客户端**：

* **主要议题**： 讨论需要兼容的客户端的机制。
* **关键细节**：
    * 需要考虑如何强制执行客户端兼容性。
    * 可以使用特征位而不是代码名称来强制执行客户端兼容性。
* **后续行动计划**：
    * 继续推进需要兼容的客户端的改进工作。

**13. 发布**：

* **主要议题**： 讨论Tentacle版本的发布。
* **关键细节**：
    * 需要确定负责发布Tentacle版本的人员。
* **后续行动计划**：
    * 确定负责发布Tentacle版本的人员。