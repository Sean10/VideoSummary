---
title: "Ceph Performance Meeting 2021-05-13"
date: 2021-05-14
updated: 2021-05-15
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 与会人员
- Josh
- Corey（预计稍后加入）

#### 主要议题
1. **新项目讨论**
   - Josh提出一个即将开始的面试项目，需要收集大量数据以了解最有用的信息。
   - 讨论了如何使数据收集和模式变更变得容易，以避免系统脆弱性。

2. **数据存储和查询**
   - 讨论了使用JSON格式存储数据，并利用数据库（如PostgreSQL）的JSON支持进行查询。
   - 提到了在大量性能数据下，可能需要对JSON数据进行索引以提高查询速度。

3. **Ceph性能优化**
   - 讨论了Ceph BlueStore的缓存策略，特别是关于小写操作的直接I/O和缓存使用。
   - Adam提出了一个PR，旨在改变小写操作的缓存策略，以避免双重缓存问题。

4. **性能测试和分析**
   - 分享了关于omapbench测试的更新，特别是在不同Ceph版本间的性能差异。
   - 讨论了RocksDB的缓存命中率和性能问题，特别是在删除操作后的性能下降。

#### 决定事项
- 需要进一步测试和分析BlueStore的缓存策略，特别是直接I/O和小写操作的缓存使用。
- 计划引入额外的配置参数来控制页面缓存的使用，以便更好地进行基准测试和性能优化。

#### 后续行动计划
- Adam将继续完善PR，以提供更灵活的缓存控制选项。
- 进行更多的性能测试，特别是关注RocksDB的缓存命中率和删除操作后的性能恢复。
- 探讨和实验RocksDB的compaction策略，以优化性能。

#### 其他讨论
- 讨论了旧版本Ceph集群中使用文件存储（FileStore）遇到的问题，特别是inode扫描和目录列表性能问题。
- 分享了在实际部署中遇到的性能问题和解决方案，特别是在使用缓存和直接I/O时的权衡。

#### 会议结束
- 会议在讨论了所有议题后结束，感谢所有参与者的贡献，并期待下周的会议。

---

以上是本次会议的详细纪要，涵盖了会议的关键细节、讨论的主要议题、决定的事项以及后续的行动计划。