---
title: "Ceph Developer Monthly 2023-02-01"
date: 2023-02-02
updated: 2023-02-02
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议概要
本次会议主要讨论了Ceph存储系统中的多个关键议题，包括测试失败、性能警告处理、S3选择功能、逻辑大规模套件开发、以及性能计数器JSON输出的格式调整。会议涵盖了问题的识别、解决方案的探讨、以及后续行动计划的制定。

#### 主要议题与讨论

1. **测试失败与健康警告**
   - **问题描述**：测试失败由健康警告引起，涉及一个相关的PR。
   - **讨论内容**：Chris提供了问题的简要总结，指出在QA任务中，忽略列表或Badness检查未正确执行两项操作：未检查标准错误，以及指向错误的日志位置。
   - **解决方案**：创建了一个草稿PR来考虑并检查标准错误和正确的日志位置。计划在实际的RBD API上进行测试。

2. **S3选择功能更新**
   - **功能介绍**：S3选择功能允许客户端将SQL语句推送到存储层，从而只提取所需的数据子集，显著提高性能和降低成本。
   - **讨论内容**：详细介绍了S3选择功能的工作原理、优势以及面临的挑战，特别是与Spark和Trino等分析应用的集成。
   - **后续行动**：继续开发和优化S3选择功能，考虑与更多分析应用的集成。

3. **逻辑大规模套件开发**
   - **目标**：开发一个逻辑大规模套件，以便在Ceph上运行更多OSD的测试。
   - **进展**：已经完成了零块检测功能的开发，并正在进一步设置逻辑大规模套件。
   - **后续行动**：继续进行套件的设置和测试，以验证其在多OSD环境下的性能和稳定性。

4. **性能计数器JSON输出格式调整**
   - **问题描述**：讨论了是否以及如何调整性能计数器的JSON输出格式。
   - **讨论内容**：涉及是否保持现有命令不变，添加新命令，或调整现有命令的输出格式。
   - **决定**：决定添加一个新命令`dump_counters`，同时保持现有命令不变，逐步将计数器迁移到新命令中。

#### 后续行动计划

1. **测试失败与健康警告**
   - 继续在实际的RBD API上测试草稿PR，确保其正确处理标准错误和日志位置。

2. **S3选择功能**
   - 继续开发和优化S3选择功能，特别是与Spark和Trino等分析应用的集成。

3. **逻辑大规模套件**
   - 完成逻辑大规模套件的设置，并在多OSD环境下进行全面测试。

4. **性能计数器JSON输出**
   - 实现新命令`dump_counters`，并逐步将计数器迁移到新命令中，同时发布相关更新和迁移指南。

#### 结论
会议成功地识别了多个关键问题，并制定了相应的解决方案和后续行动计划。所有参与者都积极参与讨论，确保了决策的全面性和可行性。下一步将按照会议决议执行相关行动，并持续监控进展情况。