---
title: "CDS Tentacle - Crimson"
date: 2024-08-22
updated: 2024-08-23
tags:
categories:
- "视频总结"
subtitle: tech
---



**会议纪要**

**会议时间**： 2023年11月某日

**会议地点**： Google Meet

**参会人员**： Squid 项目成员，包括 Squid 项目负责人、Intel 团队成员等。

**会议主题**： Squid 项目进展、Crimson 存储引擎优化以及未来计划。

**会议内容**：

**一、Squid 项目当前状态**

* Squid 项目已实现多核支持，包括 Reactor 和 Messenger。
* 支持在复制的存储池中使用 Blue Store、C Store 和 CN Store 作为后端，主要处理 RBD 工作负载。
* 支持通过 saadm 或重启快速部署集群。
* 提供初始的 Scrub 支持，可通过 SEF tell 命令启动 Scrub 或 Deep Scrub。
* 在恢复和备份方面进行了大量工作，提高了稳定性。
* 测试覆盖范围良好，拥有稳定的测试套件，并添加了恢复垃圾模式测试。
* 引入 SE Store 作为后端，大部分 API 测试和基本测试均通过。
* 引入协程，提高了代码友好性和开发效率。

**二、Crimson 存储引擎优化**

* 评估了 RBD 4K 随机读写性能，这是衡量 Crimson OSD 基本性能的关键指标。
* 分析了 Crimson 的扩展性，结果表明其性能随着核心数的增加而提高。
* 对 Crimson 进行了优化，包括计算效率、I/O 效率和减少饥饿和内部竞争。
* 优化了 C Store，提高了随机读写的性能。
* C Store 的核心功能已实现，包括数据读写、元数据索引、事务支持和背景任务等。
* 优化了性能，包括 FGC 缓存和 128 位逻辑块地址支持。

**三、未来计划**

* 推进性能改进，特别是多核支持下的性能。
* 优化异步消息传递，提高其可扩展性。
* 优化 C Store，提高其性能和可用性。
* 支持更复杂的 Scrub 功能。
* 支持动态 CPU 核心分配。
* 扩展测试套件，包括 RBD 镜像测试。

**四、行动计划**

* Squid 项目成员将继续优化 Squid 和 Crimson，并推进未来计划。
* Intel 团队将继续优化 C Store，并提高其性能和可用性。
* Squid 项目成员将积极参与社区贡献，并推动 Squid 的发展。

**五、其他事项**

* 会议讨论了异步消息传递的性能问题，并探讨了可能的解决方案。
* 会议讨论了 C Store 的扩展性，并探讨了如何提高其性能。

**总结**：

本次会议回顾了 Squid 和 Crimson 的进展，并讨论了未来的计划。会议强调了性能优化和扩展性改进的重要性，并制定了具体的行动计划。