---
title: "Ceph Crimson/SeaStor OSD 2020-07-22"
date: 2020-07-23
updated: 2020-07-24
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 关键细节
- **参与者**: 分布式存储Ceph研发团队成员
- **日期**: [具体日期]
- **主要议题**: 讨论Ceph存储系统的优化和设计问题

#### 讨论的主要议题
1. **LBA树的修改**:
   - 对LBA树进行了32x的扩展，并提出了一些问题，计划后续讨论。
   - 设计了Oman树的布局，计划在后续会议中详细讨论。

2. ** scrub功能的进展**:
   - 目前正在进行scrub功能的基本工作，包括preemption的测试和一些可选间距问题的修改。

3. **内存管理优化**:
   - 提出了将大部分空间管理移至内存中的想法，通过扫描LBA树来计算每个段的块使用情况，并在内存中维护这些数据。
   - 讨论了在清理段时可能需要进行多次读取以确定块是否仍在使用，但认为这对于QLC闪存是可接受的。

4. **模板和remover问题**:
   - 仍在解决模板相关的问题，特别是remover的实现，编译器提示remover是不完整的类型。
   - 计划继续努力解决这些问题，并在单元测试中进行验证。

5. **OMAP树布局**:
   - 讨论了OMAP树的内部节点和叶子节点的布局设计，包括键和值的存储方式。
   - 提出了如果键或值过大，可以考虑单独分配空间的想法。

#### 决定的事项
- 将继续推进scrub功能的开发和测试。
- 将实施内存管理优化的方案，并进行性能测试。
- 将继续解决模板和remover的问题，并在单元测试中验证。
- 将设计并实现OMAP树的布局，并考虑键和值的最大尺寸问题。

#### 后续行动计划
- 进行内存管理优化的性能测试，评估其在实际应用中的表现。
- 解决模板和remover的问题，确保代码的完整性和正确性。
- 设计和实现OMAP树的布局，并在后续会议中讨论具体的实现细节。
- 在接下来的几周内，将继续推进上述工作，并根据需要进行调整和优化。

#### 其他备注
- 下一周将有一位团队成员休假，但仍可通过电子邮件联系。

本次会议为Ceph存储系统的优化和设计提供了明确的方向和行动计划，确保了项目的持续进展和团队成员之间的有效沟通。