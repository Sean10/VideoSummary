---
title: "CDS Tentacle - RGW"
date: 2024-08-22
updated: 2024-08-23
tags:
categories:
- "视频总结"
subtitle: tech
---



### 会议纪要

**会议时间**： 2023年（具体日期未提及）

**参会人员**： Casey, Adam Emerson, Daniel, Caleb, Mark Hogan, Shila, Val, CH, Bloomberg 等

**会议主题**： 讨论Ceph分布式存储项目的进展和未来计划

**主要议题**：

**1. 扩展接口**

* **d4n缓存**： 讨论了d4n缓存的使用和优化，包括完成读写缓存和缓存分配，以及考虑将非持久性数据缓存起来。
* **S3 Select增强**： 讨论了S3 Select的进一步增强，但目前Gal不在场，因此暂时保留此议题。
* **Arrow flight**： 讨论了Arrow flight的进一步优化，包括处理flight SQL请求并通过S3 Select进行增强。

**2. 调整和优化**

* **Resharding**： 讨论了Resharding的优化，包括非阻塞Resharding和Shard并发性。
* **多站点**： 讨论了多站点的优化，包括Bucket索引日志卸载到FIFO、复制清理和修复多站点测试。

**3. Zipper**

* **Zipper可加载模块**： 讨论了Zipper可加载模块的进展，目前Caleb正在开发中。
* **灵活的配置**： 讨论了灵活的配置，允许运行时配置Zipper的过滤器和存储。

**4. 其他**

* **S3桶日志**： 讨论了S3桶日志的实现，这是一个类似于AWS S3功能的特性，用于记录桶的所有修改和访问。
* **大对象**： 讨论了大对象的优化，包括使用相同的概念进行服务器端复制，并考虑将对象与数据分离。
* **S3 put bucket所有权控制**： 讨论了S3 put bucket所有权控制，允许禁用桶对象的ACL。
* **跟踪**： 讨论了跟踪的实现和优化，包括在rgw和OSD之间实现端到端跟踪，并讨论了如何使用跟踪来测量性能和定位问题。
* **Lua强化**： 讨论了Lua强化，包括防止Lua脚本消耗过多内存和CPU，以及防止Lua脚本修改操作系统或文件系统。
* **C++ 20协程原型**： 讨论了C++ 20协程原型，用于元数据同步，这将使多站点功能更容易实现。

**行动计划**：

* 完成d4n缓存的优化和集成。
* 实现S3 Select的进一步增强。
* 优化Resharding和Shard并发性。
* 实现Bucket索引日志卸载到FIFO、复制清理和修复多站点测试。
* 开发Zipper可加载模块和灵活的配置。
* 实现S3桶日志和大对象优化。
* 禁用S3 put bucket所有权控制。
* 优化跟踪功能。
* 强化Lua功能。
* 开发C++ 20协程原型。

**后续行动**：

* 将会议纪要中的讨论内容转化为Redmine跟踪问题。
* 继续推进各个议题的进展。
* 定期召开会议，讨论项目的进展和问题。

**总结**：

本次会议讨论了Ceph分布式存储项目的多个重要议题，并制定了详细的行动计划。会议气氛积极，参会人员积极参与讨论，为项目的进展做出了贡献。