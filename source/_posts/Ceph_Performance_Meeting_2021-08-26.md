---
title: "Ceph Performance Meeting 2021-08-26"
date: 2021-08-26
updated: 2021-08-27
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 关键细节
- **会议时间**: 未明确指出
- **参会人员**: 核心团队成员及部分研发人员
- **会议主持**: 未明确指出

#### 讨论的主要议题
1. **新PR审查**:
   - **Prometheus缓存禁用**: 讨论了Prometheus提供禁用缓存的功能，主要针对小型部署，可能涉及内存使用问题。
   - **Direct IO写入方式变更**: Adam提出了一个草案PR，旨在改变Direct IO写入方式，以确保安全性并提升性能。
   - **RGW跟踪实现**: 讨论了RGW跟踪实现的关闭，以及后续的跟踪扩展和细节添加。

2. **已关闭PR**:
   - **RGW缓存问题**: 讨论了RGW缓存的相关问题，包括缓存的必要性和可能的改进。
   - **BlueStore cap omap命名方案升级**: Igor解释了该PR的目的，即解决大型引用写入时的性能问题。

3. **性能调查和未来计划**:
   - **性能调查工具**: 讨论了性能调查工具的需求，如Kubernetes性能测试工具Storms，以及如何在上游进行测试。
   - **平衡改进**: 讨论了平衡改进的必要性，特别是在处理大量小文件时的性能问题。
   - **QoS和缓存策略**: 讨论了QoS的一般性问题，以及如何改进缓存策略以更好地平衡资源。

4. **特定组件的性能问题**:
   - **RGW和CephFS**: 讨论了RGW和CephFS中的多个性能问题，包括缓存管理、异步请求处理和多站点性能。
   - **RBD**: 讨论了RBD的客户端持久缓存问题，以及NVMe或Fabric网关的潜在性能影响。

5. **其他议题**:
   - **自动化性能测试**: 讨论了自动化性能测试的需求和挑战，以及如何确保性能不会在代码更新中退化。

#### 决定的事项
- 需要进一步审查和讨论Prometheus缓存禁用的PR。
- Adam将继续审查和改进Direct IO写入方式的PR。
- 需要进一步讨论和实施RGW跟踪的扩展和细节添加。
- 需要关注和改进平衡性能，特别是在处理大量小文件时。
- 需要进一步研究和实施QoS和缓存策略的改进。
- 需要关注RGW和CephFS中的多个性能问题，并寻找解决方案。
- 需要关注RBD的客户端持久缓存问题，并评估NVMe或Fabric网关的性能影响。
- 需要进一步讨论和实施自动化性能测试，以确保性能不会在代码更新中退化。

#### 后续行动计划
- 继续审查和讨论Prometheus缓存禁用的PR。
- 继续审查和改进Direct IO写入方式的PR。
- 继续讨论和实施RGW跟踪的扩展和细节添加。
- 继续关注和改进平衡性能，特别是在处理大量小文件时。
- 继续研究和实施QoS和缓存策略的改进。
- 继续关注RGW和CephFS中的多个性能问题，并寻找解决方案。
- 继续关注RBD的客户端持久缓存问题，并评估NVMe或Fabric网关的性能影响。
- 继续讨论和实施自动化性能测试，以确保性能不会在代码更新中退化。

#### 其他备注
- 会议中提到了多个具体的PR和代码变更，这些需要研发团队的具体成员进行跟进和实施。
- 会议中提到了多个性能调查工具和方法，这些需要进一步的研究和实施。
- 会议中提到了多个具体的性能问题，这些需要进一步的讨论和解决方案。
- 会议中提到了自动化性能测试的需求和挑战，这些需要进一步的讨论和实施。

### 结束语
会议在讨论了多个关键议题和后续行动计划后结束，参会人员表示将按照会议讨论的内容进行后续的工作。会议主持感谢大家的参与，并期待下一次会议的召开。