---
title: "Ceph Performance Meeting 2020-11-12"
date: 2020-11-24
updated: 2020-11-25
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 与会人员
- Mark
- Gary
- Gabby
- 其他核心团队成员

#### 缺席人员
- Adam（因波兰独立日休假）

#### 主要议题
1. **性能分析进展**
   - Gabby报告了关于正式分析的进展，提到需要更好的系统来记录和命名测试案例。
   - 讨论了从CBT（Ceph Benchmark Tool）创建数据库模式以存储和查询测试结果的想法，但目前无人有时间实现。

2. **Ceph性能优化**
   - 讨论了Python压缩对性能的影响，特别是关于PG信息和PG日志分离到不同列族的性能影响。
   - 提到了使用Wall Clock Profiler或Adam的Welcome Profiler来更清晰地展示性能差异。
   - 讨论了添加统计信息（如压缩和闪存事件）的显示方式，建议通过admin socket命令获取。

3. **监控插件的开发**
   - 讨论了开发一个监控插件来执行任意admin socket命令的必要性，以便更好地收集和分析数据。
   - 提到了在CBT中实现一个自定义监控类的可能性。

4. **PR（Pull Request）更新**
   - 讨论了Intel的librbd客户端侧缓存实现的PR，Jason将继续审查。
   - 更新了关于RocksDB动态级别的PR，Adam将在假期后继续跟进。
   - 讨论了Igor的PG移除优化PR，Adam和Neha对其进行了审查，但还有一些细节需要处理。

5. **内存管理**
   - Adam和Mark正在继续研究减少碎片化的内存管理策略。

6. **MClock调度器测试**
   - Sridhar分享了关于MClock调度器的最新测试结果，展示了在不同配置下的性能数据。
   - 讨论了在单个shard和16个线程配置下的性能问题，需要进一步调查。

7. **资源分配**
   - Mark提到为开发人员提供高性能机器的计划，Gabby和Ronan将成为首批使用者。

8. **RGW文件访问接口**
   - 讨论了RGW（RADOS Gateway）的文件访问接口，以及与IO500基准测试的合作可能性。

#### 决定事项
- 需要开发一个监控插件来执行任意admin socket命令，以便更好地收集和分析数据。
- 需要进一步调查单个shard和16个线程配置下的性能问题。
- 需要为开发人员提供高性能机器，以便进行更深入的性能测试。

#### 后续行动计划
- Gabby将继续进行性能分析，并尝试使用Wall Clock Profiler或Adam的Welcome Profiler。
- 需要进一步调查和优化MClock调度器的性能。
- 需要为开发人员提供高性能机器，并鼓励他们使用这些资源进行性能测试。

#### 其他
- 讨论了KV-Sync线程的性能瓶颈问题，需要进一步调查。
- 需要进一步调查和优化RocksDB的性能，特别是关于PG信息和PG日志分离到不同列族的性能影响。

#### 结论
会议讨论了多个关于Ceph性能优化的议题，包括性能分析、监控插件开发、PR更新、内存管理、MClock调度器测试等。团队将继续进行深入调查和优化，以提高Ceph的整体性能。