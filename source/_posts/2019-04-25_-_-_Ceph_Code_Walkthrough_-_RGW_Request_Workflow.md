---
title: "2019-04-25 :: Ceph Code Walkthrough: RGW Request Workflow"
date: 2020-05-07
updated: 2020-05-08
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议主题：RGW子系统及请求工作流程介绍

#### 会议时间：[具体时间]

#### 会议地点：[具体地点]

#### 参会人员：[参会人员名单]

#### 会议内容：

1. **介绍与目的**
   - 本次会议旨在为新RGW开发者介绍RGW子系统及其请求工作流程。
   - 会议内容基于上一次RGW介绍，深入探讨RGW的特性和子组件。
   - 会议面向新RGW开发者，为其打下基础，并为未来的深入讨论做准备。

2. **RGW概述**
   - RGW作为Ceph的对象网关，处理客户端通过HTTP与S3和Swift协议的交互。
   - RGW通过librados与OSD通信，管理用户和凭证，处理对象存储操作。
   - RGW包含多个子系统，如前端服务器、认证引擎、操作处理等。

3. **RGW子系统详细介绍**
   - **前端服务器**：包括CivetWeb和Beast，分别基于C和C++实现，处理HTTP请求。
   - **认证引擎**：支持本地用户认证和外部认证（如Keystone、STS、LDAP）。
   - **操作处理**：包括S3和Swift协议的具体操作，如创建桶、上传下载对象等。
   - **对象布局**：介绍如何在Rados中映射S3和Swift的桶和对象概念。
   - **多站点复制**：通过多集群实现数据复制，避免Paxos在广域网中的不稳定性。
   - **垃圾收集与生命周期管理**：后台删除对象，管理桶的生命周期规则。
   - **RGW Admin与NFS插件**：提供管理工具和NFS Ganesha插件。

4. **请求工作流程**
   - 客户端发送请求至RGW前端。
   - 前端调用`process_request`函数，触发认证引擎和操作处理。
   - 认证通过后，执行具体操作，如读写对象。
   - 操作完成后，返回响应给客户端。

5. **后续行动计划**
   - 未来会议将深入探讨RGW的各个子组件，包括代码走查和实际操作演示。
   - 鼓励参会者提供反馈，希望了解他们对未来会议内容的具体需求。

#### 会议记录：
- 会议全程录制，链接将在稍后提供。
- 鼓励参会者在会议结束后提出问题。

#### 会议结束语：
- 感谢所有参会者的参与和支持。
- 期待在未来的会议中再次与大家见面。

#### 会议组织者：
- [组织者姓名]

#### 会议记录人：
- [记录人姓名]

---

以上是本次会议的详细纪要，涵盖了会议的关键细节、讨论的主要议题、决定的事项以及后续的行动计划。