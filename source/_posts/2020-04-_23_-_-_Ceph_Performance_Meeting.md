---
title: "2020-04- 23 :: Ceph Performance Meeting"
date: 2020-04-29
updated: 2020-04-30
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 主要议题与讨论内容

1. **Ceph PR更新**
   - 本周有一个新的PR，涉及改进Ceph的测试基础设施，以减少由于随机变异导致的测试结果失败。
   - 关闭的两个PR包括：使用全带宽进行填充和合并Keef的PR，后者移除了NVMe设备中的data buffman pool，据称这是一个性能改进。

2. **BlueStore与Allocator讨论**
   - 讨论了关于BlueStore在Alex的设置中使用4K的问题，以及如何测试新的混合分配器。
   - 计划随机切换分配器并进行测试，但此计划将推迟至后续讨论。

3. **MDS目录预分割PR更新**
   - 更新了MDS目录预分割的PR，收到了反馈，建议减少添加的12字节，可能会减少到1字节，但会牺牲一些功能。

4. **性能改进与PR更新**
   - Margie和ping的PR进行了讨论，涉及通过不减少线程或分片来提高性能的简单修复。
   - Adam的RocksDB分片PR也进行了更新。

5. **Ceph CI性能CI更新**
   - 讨论了Ceph CI性能CI的进展，包括启用非经典OSD设置的测试。
   - 讨论了硬件资源的分配和使用，包括可能的重用Smitty机器和Jenkins节点的重新分配。

6. **Jenkins与性能测试**
   - 讨论了如何在Jenkins中集成更多性能测试，包括使用FIO和Rados bench等工具。
   - 讨论了如何处理硬件资源的争用问题，包括使用标签和预定的调度策略。

#### 决定事项

- 将继续推进Ceph的测试基础设施改进，特别是在减少测试结果的变异性方面。
- 将考虑在Jenkins中集成更多的性能测试，特别是使用FIO和Rados bench。
- 将探索硬件资源的更有效分配，包括可能的重用现有机器和优化测试流程。

#### 后续行动计划

- 继续更新和审查相关的Ceph PR。
- 进一步讨论和实施在Jenkins中集成性能测试的具体方案。
- 继续研究和优化硬件资源的分配和使用，确保测试的稳定性和可靠性。

#### 其他事项

- 讨论了硬件性能随时间的变化，建议在长时间运行测试前重启机器以减少变异性。
- 讨论了使用单一节点进行基础性能测试的可能性，以简化测试流程和减少变异性。

会议结束时，团队成员表示期待接下来的进展，并祝愿大家有一个好的工作周。