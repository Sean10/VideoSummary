---
title: "Ceph Orchestrator 2023-02-28"
date: 2023-03-02
updated: 2023-03-02
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 主要议题：
1. **单元测试覆盖率讨论**
2. **`call`函数的问题修复与改进**
3. **标签命名的讨论**

#### 讨论细节：

**1. 单元测试覆盖率讨论：**
- **讨论内容：** John提出了关于单元测试覆盖率的问题，特别是针对一些高级别的命令函数（command functions）。他指出，由于这些函数涉及大量的模拟（mocking），其单元测试的价值值得商榷。
- **决定事项：** 会议中决定，对于那些看起来不值得覆盖的函数，可以在代码中添加注释说明，并使用`pragma no cover`暂时跳过。同时，建议在完成其他必要测试后再回过头来重新评估这些函数的测试需求。
- **后续行动：** 团队成员将逐一审查这些函数，标记出哪些是明确不需要单元测试的，并在代码中相应地进行标记。

**2. `call`函数的问题修复与改进：**
- **讨论内容：** John介绍了关于`call`函数的一个问题，即超时参数不工作的问题。他提出了两个修复方案，一个更简单但性能更好，另一个则增加了额外的日志功能。
- **决定事项：** 经过讨论，团队决定采用更简单的修复方案，即使用标准库中的`communicate`函数，因为它不仅性能更好，而且更安全。
- **后续行动：** John将根据这一决定提交相应的PR，并删除中间的测试代码。

**3. 标签命名的讨论：**
- **讨论内容：** 会议讨论了关于新引入标签的命名问题，特别是关于主机训练和配置文件管理的标签。
- **决定事项：** 会议中对于标签的命名进行了初步讨论，但未最终确定。决定在文档中添加警告，告知用户这些标签是系统内部使用的，不建议用户直接操作。
- **后续行动：** 将在文档中添加相关警告，并考虑未来添加更多命令来管理这些标签。

#### 后续行动计划：
- 完成对高级别命令函数的审查，并标记不需要单元测试的函数。
- 提交并合并关于`call`函数修复的PR。
- 在文档中添加关于标签使用的警告，并考虑后续添加更多管理标签的命令。

#### 会议结束：
会议在超时后结束，团队成员将在下一次会议中继续讨论未决事项。

---

以上是本次会议的详细纪要，涵盖了会议的主要讨论点、决定事项以及后续的行动计划。