---
title: "Ceph Performance Meeting 2023-02-02"
date: 2023-02-08
updated: 2023-02-08
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议概要
本次会议主要讨论了Ceph存储系统的多个技术问题和改进措施，包括新提交的PR（Pull Request）、已关闭的PR、更新中的PR以及一些实验性的改进。会议还涉及了Ceph在实际生产环境中的性能问题和解决方案。

#### 主要议题
1. **新提交的PR**
   - Igor提出的PR关于在带前缀的访问中不使用真实的整个空间迭代器。Igor解释了该PR的背景和实验结果，强调了在特定情况下使用默认列族可以显著提高性能。
   - Adam K提交的PR关于改进发酵方块度量，主要涉及碎片化分数计算的修正。

2. **已关闭的PR**
   - 由机器人关闭的三个PR，包括从日志中移除子树映射、跳过空目录的inode cap迭代以及不进行缓冲写入。这些PR因各种原因被关闭，但会议中讨论了可能的重新开启和审查。

3. **更新中的PR**
   - RocksDB升级PR，作者需要额外帮助以解决与Seth RocksDB仓库相关的问题。
   - 添加主平衡分数的PR，主要等待实验室环境的修复以进行测试。

4. **实验性改进**
   - David和Corey团队分享了他们在实际生产环境中对Ceph集群的改进和优化，包括使用压缩、调整RocksDB设置以及处理NVMe和旋转磁盘的混合使用问题。
   - 讨论了Ceph在处理大量删除操作时的性能问题，并提出了一些有效的解决方案。

5. **其他讨论**
   - 讨论了Ceph在不同版本（如Pacific和Quincy）中的性能表现和可能的改进。
   - 涉及了Ceph在处理大文件时的性能问题，特别是BlueFS的日志更新问题。

#### 决定事项
- 需要进一步审查和可能重新开启某些已关闭的PR。
- RocksDB升级和相关设置的调整需要尽快完成以改善性能。
- 对于Ceph在实际生产环境中的性能问题，需要继续进行实验和优化。

#### 后续行动计划
- 继续审查和测试新的PR，确保它们符合性能和稳定性的要求。
- 对已关闭的PR进行重新评估，考虑是否需要重新开启和进一步开发。
- 继续与David和Corey团队合作，收集更多关于Ceph在实际生产环境中的性能数据和反馈。
- 考虑将某些实验性的改进（如压缩和RocksDB设置调整）作为默认配置，以提高Ceph的整体性能。

#### 结论
会议强调了Ceph在实际应用中的性能优化和问题解决的重要性，并提出了具体的改进措施和后续行动计划。通过持续的测试和优化，Ceph的性能和稳定性有望得到显著提升。