---
title: "Ceph Crimson/SeaStor OSD 2020-10-28"
date: 2020-11-03
updated: 2020-11-03
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 关键细节
- **Johannes Pierre的审查**：会议开始时提到，上周对Johannes Pierre的“interpretable future”进行了审查，并希望尽快完成。
- **修复occluded by unknown问题**：讨论了在服务客户端请求时，如何修复因未知原因导致的对象遮挡问题。
- **PG acting sets的变化**：在处理客户端请求时，PG的acting sets发生了变化，需要重新启动客户端请求。
- **PR的更新**：对PR进行了一些更改，目前正在解决编译错误，并计划运行thresh测试。
- **单元测试的缺失**：发现目前没有可用的单元测试来检查恢复过程，可能需要在整个trash测试中运行。
- **时间区变更**：从明天开始，将前往加拿大，时间区会有所变化，但仍会参与会议。
- **代码清理和PR提交**：计划清理代码并提交PR进行审查，同时在测试中发现了一个bug，需要修复并提供测试用例。
- **扩展map tree的问题**：在扩展map tree时遇到了问题，计划发送详细信息给团队成员帮助解决。
- **NBD服务器实现**：为了测试Ceph的不同元素，实现了一个简单的NBD服务器，将I/O操作直接传递给事务管理器。
- **NVMe over Fabric的讨论**：讨论了如何在未来的Rados中适应NVMe over Fabric，以及如何改变Rados协议以允许客户端在没有协调的情况下进行写操作。
- **Optane内存的使用**：讨论了如何利用Optane内存来提高性能，特别是在元数据和日志缓存方面。
- **多核Crimson的实现**：计划实现多核Crimson，以提高性能和覆盖更多的测试场景。

#### 主要议题
- **Ceph存储系统的性能和稳定性改进**：包括修复已知问题、优化代码、增加测试覆盖率以及探索新的硬件加速技术。
- **分布式存储系统的未来发展方向**：讨论了如何适应新的硬件技术（如NVMe over Fabric）和内存技术（如Optane），以及如何改进协议以提高效率。

#### 决定事项
- **继续审查和完善PR**：确保代码质量和功能完整性。
- **增加单元测试**：以确保系统的稳定性和可靠性。
- **实现NBD服务器**：用于更有效地测试Ceph的各个组件。
- **探索NVMe over Fabric的应用**：以提高存储系统的性能。
- **利用Optane内存**：特别是在元数据和日志缓存方面。
- **实现多核Crimson**：以提高系统的并行处理能力。

#### 后续行动计划
- **完成PR的审查和测试**：确保所有更改都经过充分的测试。
- **设计和实现单元测试**：以覆盖所有关键功能。
- **继续研究和开发NBD服务器**：以支持更复杂的测试场景。
- **深入研究NVMe over Fabric和Optane内存的应用**：以确定最佳实践和实施方案。
- **推进多核Crimson的实现**：以提高系统的性能和可靠性。

本次会议涵盖了Ceph存储系统的多个关键技术和未来发展方向，旨在通过技术改进和创新，提高系统的性能、稳定性和可扩展性。