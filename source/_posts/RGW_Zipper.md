---
title: "RGW Zipper"
date: 2022-11-15
updated: 2022-11-16
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要：项目 Zipper 讨论

#### 关键细节：
- **项目名称**：Zipper
- **目的**：将 Ceph 的 RGW（RADOS Gateway）中的 S3 实现与其他存储系统（如 ISP 存储源或云存储）集成，提供一个灵活的 API 框架，支持堆叠过滤器以实现如分层或缓存等功能。
- **技术方法**：通过解耦 RGW 的协议层与存储层，开发一个横跨 RGW 的 API（称为 Zipper API），以便在协议层和存储层之间插入其他存储插件。

#### 讨论的主要议题：
- **架构设计**：
  - 顶部为协议层。
  - 中间为核心层，提供所有对象协议通用的操作。
  - 底部为存储层，实现完整的 Zipper API，提供数据和元数据的存储。
- **插件和过滤器**：
  - 存储插件（如 Rados Store）和过滤器（如 D4N Filter）通过 Zipper API 实现功能。
  - 过滤器不需实现整个 API，未覆盖的部分将通过默认实现传递。

#### 决定的事项：
- **API 实现**：提供一组纯虚拟基类，涵盖对象存储操作所需的各种概念。
- **插件管理**：插件可以是内建或外建的，只需在运行时提供可加载的库。
- **配置管理**：使用 JSON 文档进行配置，确保集群中的每个 RGW 实例都能访问相同的配置信息。

#### 后续行动计划：
- **完成插件工作**：预计在一个月内完成可加载插件的工作。
- **开发 Lua 过滤器**：计划开发一个 Lua 过滤器，允许通过脚本快速开发过滤器功能。

#### 其他信息：
- **当前状态**：Zipper 已被 Seagate、Intel 和 SUSE 等公司采用，并已成功集成到他们的系统中。
- **技术限制**：目前没有计划将 Zipper 从 C++ 解耦，但未来可能会有变化。

#### 会议结束：
- 会议主持人感谢大家的参与，并邀请大家在会后通过电子邮件或 Google Chat 提出任何问题。

---

以上是关于项目 Zipper 的会议纪要，涵盖了会议的关键细节、讨论的主要议题、决定的事项以及后续的行动计划。