---
title: "2019-12-05 :: Ceph Performance Meeting"
date: 2019-12-05
updated: 2019-12-06
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 关键细节
- **时间**: 本周
- **参与人员**: 团队成员（Patrick, David, Akutan, Igor, Adam, Eric, Mark, Josh, Brett, Matt, Alex Calhoun等）
- **主要议题**: 讨论和回顾本周的Pull Requests（PRs），以及关于持久内存（Persistent Memory）和平衡器（Balancer）的讨论。

#### 讨论的主要议题
1. **PRs回顾**:
   - Patrick的PR：在MDS中释放reheat页面，类似于OSD和Mons中的处理方式。
   - David的PR：平衡器修复，已合并。
   - MDS CPU亲和性PR：已合并。
   - 自动标量默认PG计数增加：从8增加到16。
   - 增强OSD Numa亲和性兼容性PR：已合并。
   - 删除范围（Delete Range）PR：已合并。
   - O节点固定代码PR：已合并，但存在段错误问题，需进一步观察。
   - 其他PRs：由于长时间未更新，被stale bot关闭。

2. **持久内存（Persistent Memory）讨论**:
   - 讨论了持久内存的使用和潜在的性能提升。
   - 讨论了如何利用持久内存API和库，以及如何处理内存分配和事务问题。
   - 提出了使用持久内存来优化PG日志的存储和恢复过程。

3. **平衡器（Balancer）和自动标量（Autoscaler）的协同工作**:
   - 讨论了平衡器和自动标量如何协同工作，特别是在集群容量变化时的处理策略。
   - 讨论了如何避免两者在优化过程中相互干扰。

#### 决定的事项
- **文档更新**: Mark将提交一个PR，更新关于OSD内存目标的文档，建议不推荐将OSD内存目标设置低于默认值。
- **持久内存的进一步研究**: 团队将组建一个工作组，进一步研究如何利用持久内存来优化Ceph的性能。

#### 后续的行动计划
- **持久内存的实验**: 获取带有持久内存的开发机器，进行实验和测试。
- **平衡器和自动标量的进一步测试**: 进行更多测试，确保平衡器和自动标量在实际工作负载下的协同工作效果。
- **文档更新PR的审查**: 团队成员将对Mark提交的文档更新PR进行审查。

#### 其他讨论
- **持久内存的硬件选择和配置**: 讨论了不同类型的持久内存硬件，以及如何在服务器中配置和使用它们。
- **平衡器和自动标量的实际应用**: 讨论了在实际集群中如何配置和使用平衡器和自动标量，以优化性能和资源利用。

### 结论
会议涵盖了多个技术议题，特别是关于持久内存和平衡器的讨论，团队成员积极参与并提出了建设性的意见和建议。后续将通过实验和测试来验证这些想法，并进一步优化Ceph的性能和稳定性。