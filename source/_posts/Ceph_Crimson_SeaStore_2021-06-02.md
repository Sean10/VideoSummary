---
title: "Ceph Crimson/SeaStore 2021-06-02"
date: 2021-06-02
updated: 2021-06-03
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议时间
- 日期：[具体日期未提供]
- 时间：[具体时间未提供]

#### 参会人员
- [具体人员未提供]

#### 会议议题
1. **Crimson OSD 启动失败问题**
2. **异常处理与错误报告**
3. **ZFS 学习与研究**
4. **事务管理器读取交换断言问题**
5. **OSD 停止异常**
6. **新实习生介绍**
7. **Scrubbing PR 讨论**
8. **Clang 编译问题修复**
9. **可中断分配器开发**
10. **扩展放置管理器调试**
11. **键值大小限制实现**

#### 讨论内容
1. **Crimson OSD 启动失败问题**
   - 上周尝试复现 Travis 报告的 Crimson 在 Rook 中运行失败的问题。
   - 本周重点解决启动 Crimson 时的错误报告问题。

2. **异常处理与错误报告**
   - 提出一个修复方案，使用与 Ceph 数据库相同的清理函数钩子方法。
   - 遇到 ASAN 问题，报告越界访问，后发现是 ASAN 本身的 bug，已创建 PR 解决。

3. **ZFS 学习与研究**
   - 研究 ZFS 如何处理垃圾收集和分配器问题。

4. **事务管理器读取交换断言问题**
   - 修复了因分段状态跟踪器混乱导致的事务管理器读取交换断言问题。

5. **OSD 停止异常**
   - 发现 Crimson OSD 在启动后立即停止，未收到停止指令。
   - 正在调试 LBA 析构函数中的断言问题，该断言表明缓存未清理。

6. **新实习生介绍**
   - Joseph 作为 Red Hat 的新实习生，加入会议了解 Crimson 项目。

7. **Scrubbing PR 讨论**
   - Brennan 讨论了关于 Scrubbing 的 PR，建议重新创建 PR 以包含最新的基础提交。

8. **Clang 编译问题修复**
   - Sam 修复了 Clang 编译问题，计划提交 reproducer 到 Clang 上游。

9. **可中断分配器开发**
   - 继续开发可中断分配器，以便在 Ceph 存储中使用。

10. **扩展放置管理器调试**
    - 正在调试扩展放置管理器，希望本周能提交 PR。

11. **键值大小限制实现**
    - 实现了键值大小的限制，相关 PR 已合并。

#### 决定事项
- 继续调试 Crimson OSD 启动和停止的异常问题。
- 重新创建 Scrubbing PR 以包含最新的基础提交。
- 提交 Clang 编译问题的 reproducer 到上游。

#### 后续行动计划
- 继续调试和修复 Crimson OSD 相关问题。
- 完成 Scrubbing PR 的重新创建和测试。
- 提交 Clang 编译问题的 reproducer。
- 继续开发和测试可中断分配器。
- 完成扩展放置管理器的调试并提交 PR。

#### 其他
- 欢迎新实习生 Joseph，并鼓励其参与 Crimson 项目。

#### 会议结束
- 会议在无其他议题的情况下结束，感谢大家的参与。