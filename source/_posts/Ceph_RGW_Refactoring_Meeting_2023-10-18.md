---
title: "Ceph RGW Refactoring Meeting 2023-10-18"
date: 2023-10-18
updated: 2023-10-19
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议主题：Ceph数据日志设计讨论

#### 与会人员：Adam、Casey、Matt等

#### 会议时间：具体时间未提及

#### 会议地点：未提及

#### 会议内容总结：

1. **设计讨论**：
   - Adam介绍了关于数据日志的替代设计方案，主要思路是通过时间戳直接跟踪工作集，确保没有竞态条件，避免数据日志无限增长。
   - Casey指出该设计可能存在多目标区域的问题。建议将区域信息存储在数据同步映射中，由trim提供，而不是让目标区域相互查询。

2. **主要议题**：
   - **数据日志的替代方案**：讨论了使用omap来跟踪未同步的桶分片，而不是使用数据日志。
   - **多目标区域的处理**：讨论了如何处理多个目标区域，提出了两种方案：为每个目标区域跟踪一个独立的工作集，或者使用一个工作集来跟踪每个桶分片的未修剪区域。
   - **优先级和排序问题**：讨论了如何在目标区域中优先处理旧的变更，提出了在源区域进行排序的方案。

3. **决定事项**：
   - 倾向于使用omap来跟踪未同步的桶分片，避免数据日志的无限增长问题。
   - 讨论了如何在源区域进行排序，以便目标区域可以优先处理旧的变更。

4. **后续行动计划**：
   - 修改CLS条目以增加时间优先级排序。
   - 完成REST接口的其余部分。
   - 考虑数据增量同步的复杂性，以及如何避免向后兼容性问题。

5. **其他议题**：
   - 讨论了rgw账户的设计，提出了一个设计方案，并邀请大家进行评审。

#### 会议结论：
- 会议对数据日志的替代设计方案进行了深入讨论，并提出了具体的实施步骤和后续行动计划。
- 对于rgw账户的设计，提出了一个初步的设计方案，并邀请大家进行评审。

#### 下次会议预告：
- 未提及具体的下次会议时间，但预计将继续讨论相关设计细节和实施方案。

---

以上是本次会议的纪要，涵盖了会议的关键细节、讨论的主要议题、决定的事项以及后续的行动计划。