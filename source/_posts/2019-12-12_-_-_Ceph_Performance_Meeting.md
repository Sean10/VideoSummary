---
title: "2019-12-12 :: Ceph Performance Meeting"
date: 2019-12-12
updated: 2019-12-13
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 主要议题
1. **文档更新**：来自heat的PR更新了关于CPU和内存推荐的文档，调整了之前建议的1GB内存每TB硬盘空间的配置，使其更符合BlueStore的实际情况。
2. **已关闭的PR**：
   - **I/O Ewing支持**：已合并。
   - **BlueStore数据库空间智能使用框架**：Igor的工作，改进了数据库空间的使用效率。
3. **其他更新**：
   - **VL APR**：因测试中遇到bug，暂时关闭，计划未来重新提交。
   - **OP Tracker PR**：因争议性较大，被Dale bot关闭，建议重新设计接口。
   - **Op Tracker默认禁用**：决定不实施。
   - **Finisher优化**：更新后需要重新测试。
   - **CLS桶列表过滤优化**：减少了数据传输量，已进入测试阶段。

#### 性能优化讨论
- **PG Log优化**：通过移除PG Log的OMAP写入和完全禁用PG Log，观察到性能和尾部延迟的显著改善。具体测试结果显示在EtherPad中。
- **内存目标调整**：增加内存目标以减少映射条目读取，提高吞吐量。
- **BlueStore优化**：讨论了BlueStore中PG Log和OMAP的优化策略，包括简化数据结构和直接写入对象数据的可能性。

#### 后续行动计划
- 继续运行测试，包括在新的节点上进行测试，以及在RGW案例中验证优化效果。
- 调查并解决最近一个月内可能影响性能的合并问题。
- 进一步分析和优化PG Log代码，包括可能的微基准测试。
- 探索使用Crimson作为潜在的优化方案。

#### 其他事项
- 会议决定下周继续讨论，之后将有一段时间的休息。

#### 结论
会议强调了持续优化Ceph存储系统的必要性，特别是在性能和资源管理方面。团队将继续进行深入测试和分析，以实现更高效的存储解决方案。