---
title: "CDS G/H (Day 2) - RBD: Database Performance"
date: 2014-06-26
updated: 2014-06-26
tags:
categories:
- "视频总结"
subtitle: tech
---



### 会议纪要

**会议时间**： 2023年11月（具体日期未提及）

**会议地点**： 线上会议

**参会人员**： JYG, MT Wong, Luke, inkten, sam, josh, 等

**会议主题**： Ceph数据库性能优化及测试方案

**会议内容**：

**1. 会议背景**

* 旨在探讨如何在Ceph上运行数据库，尤其是RBD上的数据库性能优化。
* 希望通过优化，实现跨广域网络的数据库运行，而非多站点复制。

**2. 讨论议题**

* **数据库性能问题**：
    * 使用Ceph作为后端存储的数据库（如PostgreSQL、MySQL等）性能不如预期。
    * 原因可能包括：
        * RBD的striping策略导致小写入操作堆积在单个对象上，影响性能。
        * 数据库的写前日志（WAL）可能导致性能瓶颈。
        * 网络延迟和复制开销。
* **优化方案**：
    * 调整RBD的striping策略，优化小写入操作的处理。
    * 将WAL存储在独立的设备上，例如SSD。
    * 使用RBD缓存来提高性能。
    * 调整Ceph和数据库的配置参数。
    * 使用SSD作为OSD的存储介质。
* **测试方案**：
    * 使用firefly进行性能测试，对比不同配置下的性能表现。
    * 使用block trace和sequencer等工具进行性能分析。
    * 与社区分享测试结果和最佳实践。

**3. 决定事项**

* 成立一个工作组，负责Ceph数据库性能优化和测试。
* 工作组将制定详细的测试方案，并开始进行测试。
* 工作组将定期分享测试结果和最佳实践。

**4. 后续行动计划**

* 工作组将制定详细的测试方案，包括测试环境、测试用例、测试工具等。
* 工作组将开始进行测试，并记录测试结果。
* 工作组将分析测试结果，并找出性能瓶颈。
* 工作组将根据分析结果，提出优化方案。
* 工作组将分享测试结果和最佳实践，并与社区进行讨论。

**5. 关键词**

* RBD
* PostgreSQL
* MySQL
* WAL
* Striping
* SSD
* Cache
* Performance
* Benchmark
* Test
* Community