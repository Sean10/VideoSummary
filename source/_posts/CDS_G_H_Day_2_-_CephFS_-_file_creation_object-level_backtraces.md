---
title: "CDS G/H (Day 2) - CephFS: file creation & object-level backtraces"
date: 2014-06-26
updated: 2014-06-26
tags:
categories:
- "视频总结"
subtitle: tech
---



### 会议纪要

**会议主题**： Ceph 文件系统（CFS）讨论：文件创建和对象级回溯

**会议时间**： [请填写会议时间]

**参会人员**： [请填写参会人员名单]

**会议内容**：

**一、主要议题**

1. **文件创建和对象级回溯问题**：
   - 用户 Alexander 投诉客户端回溯信息过多，导致 OSD 集群负载过重。
   - 回溯信息目前仅在日志段被修剪时写入，导致性能问题。
   - 讨论了将回溯信息写入元数据池或键值存储的可行性。
   - 提出将回溯信息作为能力机制的一部分通过客户端进行更新的方案。

2. **异步文件创建**：
   - 讨论了异步文件创建的可行性，包括如何处理客户端失败和确保文件属性正确。
   - 提出使用未分配的inode队列来实现异步创建的方案。

3. **回溯信息存储**：
   - 讨论了回溯信息的存储方式，包括是否将其存储在元数据池、键值存储或数据池。
   - 认为将回溯信息存储在数据池中可能更高效，但需要考虑如何处理数据池迁移的情况。

**二、决定事项**

1. 将文件创建和对象级回溯问题的解决方案作为单独的工单提交到跟踪器，并优先处理。
2. 研究异步文件创建的可行性，并评估其性能和可靠性。
3. 探索回溯信息存储的最佳方案，并考虑数据池迁移的情况。

**三、后续行动计划**

1. [开发人员] John 将研究异步文件创建的方案，并评估其可行性。
2. [开发人员] Greg 将研究回溯信息存储的最佳方案，并考虑数据池迁移的情况。
3. [开发人员] Alexander 将将文件创建和对象级回溯问题的解决方案作为单独的工单提交到跟踪器。

**四、关键术语**

- **CFS**： Ceph 文件系统
- **OSD**： 块设备
- **MDS**： 元数据服务器
- **inode**： 文件系统中的节点，包含文件属性和指针
- **back trace**： 回溯信息，用于从inode号查找文件位置

**五、备注**

- 会议中讨论的方案需要进一步研究和评估，以确保其可行性和性能。
- 异步文件创建和回溯信息存储的优化将有助于提高 Ceph 文件系统的性能和可靠性。