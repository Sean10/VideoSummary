---
title: "Ceph Performance Meeting 2020-09-02"
date: 2020-09-03
updated: 2020-09-04
tags:
categories:
- "视频总结"
subtitle: tech
---


# Ceph 开发会议纪要

## 会议概要
本次会议主要讨论了Ceph存储系统中的多个技术议题，包括新的Pull Request（PR）、BlueStore的性能优化、OSD（Object Storage Daemon）的CPU效率提升以及未来可能的改进方向。

## 主要讨论议题

### 1. 新的Pull Request (PR)
- **PR1**: 来自Josh的PR旨在加速Monitor中的caps和cap更新。Joao已进行评审，默认行为未改变，仅在特定情况下提供跳过解析的选项。
- **PR2**: 修改OSD异步恢复最小开销的默认值。该PR建议降低阈值以增加异步恢复，基于Red Hat内部测试，发现默认值100在某些RGW工作负载下导致大量异步恢复。

### 2. BlueStore性能优化
- 讨论了BlueStore在处理大量对象创建和删除时的性能瓶颈，特别是使用RocksDB时的解析和锁定问题。
- 提出了使用更大缓冲区减少写放大和尝试将部分数据移出RocksDB的建议。

### 3. OSD CPU效率提升
- 讨论了如何减少OSD的CPU使用，特别是在处理大量小对象时的效率问题。
- 提出了从字符串操作转向二进制格式操作的建议，以减少动态内存分配和提高比较效率。

### 4. 未来改进方向
- 讨论了可能的硬件优化，如使用Optane DIMMs，以及软件层面的改进，如简化数据结构和减少不必要的灵活性。
- 提出了对BlueStore和OSD进行更深入的性能分析和优化，特别是在处理小对象和频繁更新的场景。

## 决定事项
- 继续探讨和实验BlueStore的性能优化，特别是在减少RocksDB的使用和优化OSD的CPU效率方面。
- 计划在下一次会议中进一步讨论OSD的内存使用优化和BlueStore的结构简化。

## 后续行动计划
- 更新现有文档，总结本次会议的讨论点和未来研究方向。
- 准备下一次会议的讨论主题，包括具体的性能优化实验和可能的技术改进。

## 结论
本次会议为Ceph存储系统的未来发展提供了宝贵的讨论和建议，特别是在性能优化和CPU效率提升方面。期待下一次会议的进一步讨论和成果。