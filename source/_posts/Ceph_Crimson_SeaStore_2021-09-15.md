---
title: "Ceph Crimson/SeaStore 2021-09-15"
date: 2021-09-15
updated: 2021-09-16
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议开始
- 会议开始，回顾了上周的工作进展。

#### 工作进展
- **EPM简化与修复**：
  - 上周提交了一个PR，包含了一些EPM（Erasure Code Profile Manager）的简化与修复。
  - 正在努力使Ceph存储工作，预计会有进一步的修复。

- **二分搜索优化**：
  - 完成了针对LB3和OMAP3的二分搜索优化PR。
  - 正在进行关于alpha extent的magics优化。

- **性能分析与冲突解决**：
  - 发现LBA树分配交换过程中CPU周期浪费较多，原因可能是LBA地址过于集中。
  - 计划生成LBA地址的直方图，以便进一步分析。

- **I/O测试问题**：
  - 在进行I/O测试时，偶尔会遇到add ping a dirt的问题，不是每次都会出现。
  - 认为在发布构建中禁用调试日志可能更容易复现问题。
  - 计划继续尝试复现并调试此问题。

- **新成员介绍**：
  - 新成员Sam来自Surf Cuba团队，对Crimson项目感兴趣，将探索相关工作。

- **设备支持**：
  - 上周主要工作是设备支持，预计在一两天内提交PR。

- **优化与冲突减少**：
  - 正在从指标提供结果的角度进行优化。
  - 实施了一种简单但有效的方法来减少owner manager的写入。
  - 正在研究如何减少Onochie的冲突，认为当前的invariant可能过于强，导致冲突增加。
  - 计划开始进行相关清理工作。

#### 讨论与决策
- **LBA地址分布问题**：
  - 讨论了LBA地址过于集中的问题，计划生成直方图进行分析。

- **冲突与优化**：
  - 讨论了如何减少冲突，特别是关于LBA树的冲突问题。
  - 提到了改变invariant可能需要大量重构，但认为值得努力。

- **额外讨论**：
  - 提到了RADOS Q&A会议，鼓励大家参与提问。

#### 后续行动计划
- 继续进行EPM的简化与修复工作。
- 生成LBA地址的直方图，分析地址分布情况。
- 继续尝试复现并调试I/O测试中的问题。
- 提交设备支持的PR。
- 开始进行减少冲突的清理工作。

#### 会议结束
- 会议结束，提醒大家关注RADOS Q&A会议，并祝大家有美好的一天。

---

以上是本次会议的纪要，涵盖了会议的关键细节、讨论的主要议题、决定的事项以及后续的行动计划。