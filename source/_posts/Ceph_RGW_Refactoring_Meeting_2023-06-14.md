---
title: "Ceph RGW Refactoring Meeting 2023-06-14"
date: 2023-07-03
updated: 2023-07-03
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议主题：Ceph存储优化与功能讨论

#### 参会人员：Ceph研发团队成员

#### 会议时间：[具体日期]

#### 主要议题及讨论内容：

1. **MD5优化与E-Tag计算**
   - **讨论内容**：会议开始讨论了关于MD5优化以提高E-Tag计算效率的问题。之前有尝试通过后台线程卸载MD5计算，但由于线程同步成本过高而未成功。目前考虑使用XMD和向量化方法，已发现速度提升可达5倍。提出了使用AC+库的AVX2实现进行实验的可能性。
   - **决定事项**：希望有兴趣的团队成员尝试这一优化，以减少CPU使用率。
   - **后续行动**：将联系Mark进行评估，并进行性能测试。

2. **多重Zipper后端与过滤器**
   - **讨论内容**：Ali提出了关于多重Zipper后端或过滤器的工作，特别是在D4和d3n缓存工作中需要使用多个过滤器。讨论了如何通过JSON配置实现多重过滤器和后端的嵌套。
   - **决定事项**：需要定义每种驱动程序的JSON格式，并创建相应的工厂函数。
   - **后续行动**：Ali将开始研究并实现这一功能。

3. **OLH修复**
   - **讨论内容**：Corey更新了关于OLH修复的PR，解决了并发问题和遗留的索引条目问题。讨论了如何更好地测试这些并发场景。
   - **决定事项**：需要进一步讨论如何进行更全面的并发测试，包括可能的随机延迟注入和错误注入。
   - **后续行动**：Corey将继续完善PR，并探索更多的测试方法。

4. **通知重试机制**
   - **讨论内容**：Krunal讨论了通知重试机制的改进，特别是从Rados对象转换到FIFO对象的需求。
   - **决定事项**：需要进一步讨论如何限制FIFO的大小，以及是否需要设置重试次数或时间限制。
   - **后续行动**：Krunal将开始转换工作，并继续讨论其他设计细节。

#### 其他讨论点：
- 数据同步公平性的测试问题，目前仍在解决一些崩溃和边缘案例。

#### 会议总结：
会议涵盖了多个技术优化和功能改进的讨论，涉及MD5优化、多重Zipper后端、OLH修复和通知重试机制。团队成员将根据讨论结果进行后续的开发和测试工作。

#### 下一步行动：
- 联系Mark进行MD5优化评估。
- Ali开始多重Zipper后端的研究和实现。
- Corey继续完善OLH修复PR并探索更多测试方法。
- Krunal开始通知重试机制的转换工作，并继续讨论设计细节。

#### 会议结束：
感谢所有参与者的贡献，期待下一次会议的进展汇报。