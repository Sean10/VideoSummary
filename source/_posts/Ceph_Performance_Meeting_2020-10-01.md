---
title: "Ceph Performance Meeting 2020-10-01"
date: 2020-10-01
updated: 2020-10-02
tags:
categories:
- "视频总结"
subtitle: tech
---


# 会议纪要

## 关键细节
- **新PR和更新PR**: 本周只有Igor提交的一个新PR，涉及PG移除的优化。此外，Paul Kuzner审查了一个关于并发检索设备数据的卷PR，仍在进行中。还有一个PR允许在RocksDB中动态调整级别，目前正在收集性能数据。
- **PG日志条目回收原型**: Gabby正在开发一个原型，用于回收PG日志条目的键。初步测试显示，这种方法可能导致数据库输入记录显著增加，且在压缩过程中工作量大幅上升。
- **替代方案讨论**: 讨论了三种替代方案：修改RocksDB、创建独立的PG日志解决方案、以及控制RocksDB的写前日志（WAL）。还提到了MyRocks的实现，可能提供有用的参考。

## 讨论的主要议题
- **PG日志优化**: 讨论了如何优化PG日志，减少其在RocksDB中的存储和处理开销。提出了多种方法，包括修改RocksDB内部行为、创建独立解决方案、以及学习MyRocks的实现。
- **性能和正确性权衡**: 讨论了在优化性能的同时如何保持系统的正确性，特别是在减少PG日志条目和重复条目时可能带来的风险。

## 决定的事项
- **进一步研究MyRocks**: 决定进一步研究MyRocks的实现，了解其如何处理写前日志和事务，以寻找可能的优化点。
- **继续探索PG日志优化方案**: 继续探索和评估不同的PG日志优化方案，包括修改RocksDB、创建独立解决方案等。

## 后续行动计划
- **阅读MyRocks相关文档**: 团队成员需要阅读MyRocks的设计文档和相关博客，了解其优化策略。
- **继续测试和评估**: 继续对不同的PG日志优化方案进行测试和评估，收集性能数据，确保优化方案既提高性能又不影响系统的正确性。
- **讨论和决策**: 在下一次会议中，团队将根据收集的信息和测试结果，进一步讨论并决定最终的优化方案。

## 结论
会议讨论了PG日志的优化问题，提出了多种可能的解决方案，并决定进一步研究MyRocks的实现作为参考。团队将继续测试和评估不同的优化方案，确保在提高性能的同时保持系统的正确性。下一次会议将继续讨论并决定最终的优化方案。