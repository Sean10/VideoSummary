---
title: "CDS G/H (Day 1) - OSD: Locally Repairable Codes"
date: 2014-06-24
updated: 2014-06-25
tags:
categories:
- "视频总结"
subtitle: tech
---



**会议纪要**

**会议时间**： 2023年11月某日

**参会人员**： L（本地可修复代码提案人），Sam，Andrea，其他Ceph研发人员

**会议主题**： 本地可修复代码（Locally Repairable Codes, LRC）的讨论与方案

**会议内容**：

**1. 本地可修复代码介绍**

* L介绍了本地可修复代码的概念，即通过编码技术将数据块编码成多个数据块和校验块，使得在数据块丢失时，可以在同一机架内进行修复，避免跨机架的数据传输，节省带宽。
* 该方案使用现有的Erasure Code插件进行编码和解码，通过组合不同的编码块实现本地修复。

**2. 数据块重映射**

* 为了实现本地修复，需要将数据块映射到特定的OSD上。L提出了将数据块映射委托给Erasure Code插件的想法，以便更灵活地控制数据块的存储位置。
* 提案中包含一个端口请求（port request 1911），用于修改Erasure Code后端，使其能够查询插件以获取数据块的位置。

**3. 语法和配置**

* L提出了在RCode配置文件中添加一个新的键“layers”，用于指定要使用的Erasure Code插件。
* 此外，还讨论了RSet步骤的配置，以及是否需要将规则集步骤集成到配置中。

**4. 解码过程**

* 讨论了在解码过程中如何选择合适的编码层进行修复，以及如何处理不同数量的数据块丢失情况。
* 提出了使用成本函数来评估不同修复方案的代价，并选择成本最低的方案。

**5. 本地修复**

* 讨论了本地修复的实现方式，以及如何避免跨数据中心的数据传输。
* 认为本地修复的实现相对简单，不需要在Primary节点中进行复杂的操作。

**6. 编码算法**

* 讨论了是否可以在不同层使用不同的编码算法，以及如何处理一些特定的编码方案。

**7. 其他讨论**

* 讨论了Facebook和Azure等公司提出的本地可修复代码方案，以及如何将这些方案融入到Ceph中。

**后续行动计划**：

* L将继续完善本地可修复代码的提案，并与其他研发人员讨论和改进。
* Sam和Andrea将协助L进行相关工作。
* 其他研发人员将根据讨论结果提供反馈和建议。

**关键词**： 本地可修复代码（LRC），Erasure Code，数据块重映射，RSet步骤，解码，本地修复，编码算法