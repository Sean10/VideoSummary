---
title: "Ceph Performance Meeting 2022-12-08"
date: 2023-01-06
updated: 2023-01-07
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 关键细节
- **Pull Request 审查**: 会议开始时，主持人提到他已经完成了所有 Pull Request 的审查，并更新了列表。
- **RGW 更新**: 讨论了一个关于 RGW 的更新 PR，特别是与 d4n 相关的部分。
- **RocksDB 更新**: 讨论了是否应该尝试更新 RocksDB 到最新版本，以支持新的压缩选项。
- **BlueFS 4K 分配单元**: 提到了一个关于 BlueFS 启用 4K 分配单元的 PR，但因相关人员不在场而未深入讨论。
- **BlueStore 分配器优化**: 讨论了一个关于 BlueStore 中 AVL 和混合分配器加速的 PR，需要进一步审查。

#### 主要议题
- **性能优化**: Luke 讨论了他们尝试优化 Ceph 集群性能的策略，包括使用 RAID 配置和不同存储配置的测试。
- **网络和存储配置**: 讨论了网络配置、RAID 级别选择、Erasure Coding 与复制的性能影响，以及如何诊断和优化 RGW 的性能问题。
- **硬件和软件配置**: 讨论了硬件 RAID 控制器缓存、网络带宽、OSD 内存目标设置等对性能的影响。

#### 决定事项
- **RocksDB 更新**: 决定考虑更新 RocksDB 到最新版本，但需要先看到测试结果。
- **性能测试**: 决定进行一系列性能测试，包括不同 RAID 配置、Erasure Coding 与复制的比较，以及单个磁盘与 RAID 配置的性能对比。

#### 后续行动计划
- **性能测试**: 进行详细的性能测试，包括不同 RAID 配置和存储策略的测试。
- **RGW 优化**: 继续优化 RGW 的配置和性能，特别是在处理大量数据读取时的情况。
- **CRC32 优化**: 针对 ARM V8 平台的 CRC32 性能问题，计划创建一个跟踪器并进行进一步的调查和优化。

#### 其他讨论
- **大型集群管理**: 讨论了管理大型 Ceph 集群时可能遇到的问题，特别是与管理器和监视器相关的性能问题。
- **硬件支持**: 讨论了硬件 RAID 控制器缓存和 SSD 元数据驱动器对性能的影响。

#### 结论
会议涵盖了多个关于 Ceph 性能优化和配置的话题，特别是在处理大量数据和高并发读取时的性能问题。后续将进行一系列详细的性能测试和优化工作。