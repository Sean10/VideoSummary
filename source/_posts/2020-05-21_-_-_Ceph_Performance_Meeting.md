---
title: "2020-05-21 :: Ceph Performance Meeting"
date: 2020-05-21
updated: 2020-05-22
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 关键细节
- **日期与时间**: 会议在预定的时间窗口内进行。
- **参与者**: Adam, Mark, Igor, 以及其他未明确提及的参与者。

#### 讨论的主要议题
1. **AVX2编码优化**:
   - 本周有两个新的PR（Pull Request）与AVX2编码相关，用于缓冲列表的编码和解码。
   - 声称在某些情况下速度提升两倍，其他情况下提升20%。

2. **RocksDB数据损坏问题**:
   - 报告了数据损坏问题，可能与RocksDB更新到6.5.1版本有关。
   - 正在考虑更新到6.5.1版本，以解决一些已知问题。

3. **内存增长问题**:
   - 用户报告了内存增长问题，特别是在启用压缩的情况下。
   - Adam正在进行相关工作，发现对象在预创建但未填充数据时内存使用很小，但一旦填充数据后，内存使用会迅速增长。

4. **OSD性能测试**:
   - 进行了关于在单个设备上运行多个OSD的性能测试。
   - 结果显示，在某些情况下，单个OSD的性能优于多个OSD。

5. **数据损坏与RocksDB**:
   - Igor报告了关于RocksDB数据损坏的问题，可能与最近的修改有关，特别是禁用BlueStore缓冲IO和预扩展写头日志的修改。
   - 正在进一步调查和测试，以确认问题的根本原因。

#### 决定的事项
- 继续对AVX2编码优化进行测试和评估。
- 考虑更新RocksDB到6.5.1版本，以解决数据损坏问题。
- 对内存增长问题进行深入分析，并寻找解决方案。
- 继续进行OSD性能测试，并根据结果调整配置和策略。

#### 后续行动计划
- 完成AVX2编码优化的测试，并根据结果决定是否合并PR。
- 确认RocksDB数据损坏问题的根本原因，并制定相应的修复措施。
- 继续分析内存增长问题，并提出具体的解决方案。
- 根据OSD性能测试的结果，优化集群配置和运行策略。

#### 其他事项
- 讨论了CBT（Ceph Benchmarking Tool）的使用和改进，以更好地支持性能测试。
- 确认了RocksDB数据损坏问题与特定修改的关系，并计划进行进一步的测试和验证。

#### 结论
- 会议讨论了多个关键的技术问题，并制定了相应的行动计划。
- 感谢所有参与者的贡献，并期待后续的进展和解决方案。

**会议结束语**: 感谢大家的参与，祝大家有一个愉快的一周。