---
title: "Ceph RGW Refactoring Meeting 2024-01-03"
date: 2024-01-05
updated: 2024-01-06
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议概要
- **日期**: 新年伊始
- **参与者**: 团队成员
- **议题**: 讨论关于同步主题和通知的工作，以及非持久性通知的问题

#### 讨论主要议题
1. **同步主题和通知的工作**
   - **负责人**: Kunal
   - **问题描述**: 讨论了关于如何更新和管理使用特定主题的桶列表（OMap）的问题。具体涉及如何确保在多个区域同步更新时的原子性和一致性。
   - **讨论点**:
     - 如何处理OMap的更新，特别是在多个区域可能同时尝试更新同一个OMap对象时。
     - 讨论了元数据同步的机制，以及如何在主区域和次区域之间保持一致性。
     - 提出了关于级联删除和更新的功能需求，以及如何在不影响系统性能的情况下实现这些功能。

2. **非持久性通知的问题**
   - **问题描述**: 讨论了非持久性通知的使用场景和当前实现中存在的问题，特别是在消息代理不可用时的处理方式。
   - **讨论点**:
     - 如何改进非持久性通知的实现，以确保在消息代理不可用时能够及时返回错误给客户端。
     - 讨论了在同步通知模式下，如何处理超时和错误传播的问题。

#### 决定事项
- **OMap更新问题**: 需要进一步讨论和明确如何在多个区域同步更新OMap时的原子性和一致性问题。
- **非持久性通知改进**: 决定改进非持久性通知的实现，以更好地处理消息代理不可用的情况，并确保及时返回错误给客户端。

#### 后续行动计划
- **OMap更新问题**:
  - 继续讨论和明确OMap更新的原子性和一致性问题。
  - 跟进Kunal的工作，确保相关功能的实现符合预期。
- **非持久性通知改进**:
  - 实施改进措施，确保非持久性通知在消息代理不可用时能够及时返回错误。
  - 进行代码审查和测试，确保改进后的功能稳定可靠。

#### 其他事项
- 会议中还讨论了关于级联删除和更新的功能需求，以及如何在不影响系统性能的情况下实现这些功能。
- 需要进一步讨论和明确这些功能的实现细节，并在后续的PR讨论中继续跟进。

#### 会议结束
- 会议在讨论完所有议题后结束，团队成员将在下次会议中继续跟进相关问题。

---

以上是对会议内容的总结，涵盖了会议的关键细节、讨论的主要议题、决定的事项以及后续的行动计划。