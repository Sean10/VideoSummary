---
title: "Ceph Performance Meeting 2021-04-29"
date: 2021-04-30
updated: 2021-04-30
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议概要
- **日期与时间**: 会议时间稍晚，但仍按计划进行。
- **参与者**: 会议主要参与者包括Gabby、Kifu、Adam等。

#### 主要议题
1. **死锁问题**
   - 近期合并的Blue Store写过程锁优化PR引发了死锁问题。
   - Kifu尝试解决，但不幸的是出现了死锁问题，决定回滚。

2. **缓存线优化**
   - 讨论了缓存线优化和分片行为，特别是与缓存线统计相关的PR。
   - 这些优化对于确定如何进一步优化存储行为非常重要。

3. **RGW压缩PR**
   - 讨论了关于RGW压缩的PR，目前尚未合并，但已准备好。

4. **Crimson客户端请求处理并行化PR**
   - 该PR正在测试中，已重新基于，但近期无进一步进展。

5. **BlueFS锁优化**
   - 讨论了BlueFS锁优化的问题，特别是多线程环境下的性能和安全性。
   - 需要进一步分析和确定锁策略，以确保安全和性能。

6. **性能测试和优化**
   - 讨论了性能测试的重要性，特别是如何捕捉和避免潜在的性能下降。
   - 强调了需要有标准化的测试环境和方法，以及实时监控性能指标的必要性。

#### 决定事项
- **回滚PR**: 由于死锁问题，决定回滚最近的Blue Store优化PR。
- **继续测试和优化**: 继续对Crimson客户端请求处理并行化PR进行测试和优化。
- **性能监控**: 需要建立更有效的性能监控和测试机制，以避免未来的性能问题。

#### 后续行动计划
- **性能分析**: 对Luminous和Master的性能进行详细分析，特别是关于OMAP操作的性能。
- **锁优化**: 继续研究和优化BlueFS的锁机制，确保多线程环境下的安全和性能。
- **标准化测试**: 开发和实施标准化的性能测试流程，确保测试结果的可比性和可靠性。

#### 其他讨论
- **硬件配置**: 讨论了不同硬件配置下的性能表现，特别是NVMe和HDD的差异。
- **未来方向**: 讨论了未来可能的技术方向，如Crimson存储引擎的进一步开发和应用。

#### 结论
会议强调了性能优化的重要性，特别是在分布式存储系统中。通过详细的性能分析和标准化的测试流程，可以确保系统的稳定性和高效性。同时，对于锁机制的优化也是提高系统性能的关键。