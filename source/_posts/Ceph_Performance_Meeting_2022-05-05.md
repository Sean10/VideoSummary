---
title: "Ceph Performance Meeting 2022-05-05"
date: 2022-05-06
updated: 2022-05-07
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

**日期：** [未提及具体日期，需补充]
**参会人员：** [未提及，需补充]

#### 1. 已解决的问题和已完成的PRs
- **Adam的卓越PR**：修复了Quarry's PR中出现的问题，主要是通过不做整个空间迭代器的边界检查，现在之前失败的测试已经通过。
- **Cory的PR**：已重新纳入pacific版本，并可能已回退主版本。该PR和atom六都将被纳入1628版本及master版本。目前进展顺利。
- **参数解析修复**：收到了来自Kefu和Radic的良好反馈，代码质量超出原始版本。现在已正确将星号命令行选项传递给c-star，解决了之前的传递问题。

#### 2. 更新的PRs和待解决问题
- **启用TC Malik的更新**：使用CStar时，发现如果编译Ceph支持CStar，则neither Crimson还是Classic OSD将不会使用alec，而是都回退到使用lipsy。对于3GB的bluestore缓存大小，我们使用了约33GB的RAM，情况非常糟糕。此更新更改了条件判断逻辑，以防止在使用CStar时链接TC Malloc。
- **遇到的问题**：目前遇到一些无效指针断言，似乎源自地址消毒器。Matan正在查看此问题，认为追踪到的问题源于TC Malloc的已知行为。此外，在运行的一些测试中发现了sink故障，可能是由此或其他因素引起。在解决这些问题前，相关PR可能会暂时搁置。

#### 3. 未来计划和行动项
- **基于时间的Near-Fit算法**：需要对PR进行重新定位和更新，但目前看来反馈良好，建议使用旧版本的配置选项以减少热路径性能的影响。
- **RGW Deus Cell实现**：可能需要更多审查，并且现在需要重新定位。作者需要进一步操作。
- **增加测试覆盖率**：特别是围绕我们的迭代器工作方式，以提高代码质量和防止未来的回归。
- **解决Aborts和Sig Faults**：这似乎是优先事项，特别是为了能够进行更广泛的性能和压力测试。
- **Igor的工作评估**：开始评估Igor实现的BlueStore Wall的工作，而不是使用RoxDB1。目前看来，新机制尚未在BlueStore中启用，需要进一步调查原因。

**下一步行动**：
- 继续跟踪与TC Malloc相关的问题并解决。
- 提高迭代器工作的测试覆盖率。
- 确定是否继续使用传统选项或转向新的配置方式。
- 关注并帮助解决Crimson的性能瓶颈和挂起问题。
- 深入理解和评估BlueStore Wall的实现和效果。

**会议结束**：会议提前结束，祝大家有一个美好的一周，并期待下周的会议。