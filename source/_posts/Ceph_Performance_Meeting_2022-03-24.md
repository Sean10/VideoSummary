---
title: "Ceph Performance Meeting 2022-03-24"
date: 2022-03-29
updated: 2022-03-30
tags:
categories:
- "视频总结"
subtitle: tech
---


### 会议纪要

#### 会议概要
会议主要讨论了Ceph存储系统的性能问题、PG日志优化以及相关的技术细节。与会人员包括核心开发团队成员，讨论了多个Pull Request（PR）的更新和新PR的引入。

#### 主要议题
1. **性能回归问题**：
   - 讨论了Gabriel的PR，该PR旨在修复No Column B代码在特定情况下默认使用位图分配器的问题。
   - 进行了Quincy与Pacific版本的性能测试，发现长时间运行下存在显著的性能回归。
   - 讨论了可能的解决方案，包括是否在发布前快速修复No Column B或在后续版本中重新启用。

2. **PG日志优化**：
   - 讨论了PG日志和PG信息的优化，特别是减少对RocksDB资源的依赖。
   - 提出了将PG日志写入缓冲区的方案，以减少写放大问题。
   - 讨论了在不同分配器（如AVL、Bitmap、Stupid）下的性能表现，以及如何优化这些分配器的使用。

3. **后续行动计划**：
   - 计划重新运行测试，特别是Gabriel的PR，以验证其对性能回归的修复效果。
   - 计划进一步调查OSD和BlueStore的行为，以确定性能问题的根本原因。
   - 计划继续讨论和优化PG日志的存储策略，以减少对RocksDB的依赖并提高性能。

#### 决定事项
- 确认Gabriel的PR将进行测试，以验证其对性能回归的修复效果。
- 决定进一步调查和优化PG日志的存储策略，以减少对RocksDB的依赖。
- 确认将继续讨论和优化PG日志和PG信息的存储策略，以提高整体性能。

#### 后续行动
- 重新运行性能测试，特别是Gabriel的PR。
- 进一步调查OSD和BlueStore的行为，以确定性能问题的根本原因。
- 继续讨论和优化PG日志的存储策略，以减少对RocksDB的依赖并提高性能。

#### 结论
会议涵盖了Ceph存储系统的多个关键性能问题和优化策略，确认了后续的行动计划，并强调了继续讨论和优化PG日志存储策略的重要性。